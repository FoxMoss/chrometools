import*as e from"../../../core/i18n/i18n.js";import*as t from"../../../ui/components/buttons/buttons.js";import*as r from"../../../core/sdk/sdk.js";import*as a from"../../../ui/lit-html/lit-html.js";import*as o from"../../../core/root/root.js";import*as i from"../../../ui/components/report_view/report_view.js";import*as n from"../../../ui/legacy/legacy.js";import*as s from"../../../ui/components/icon_button/icon_button.js";import*as l from"../../../ui/components/helpers/helpers.js";import*as c from"../../../ui/components/render_coordinator/render_coordinator.js";import*as d from"../../../ui/components/chrome_link/chrome_link.js";import*as h from"../../../ui/components/expandable_list/expandable_list.js";import*as m from"../../../ui/components/tree_outline/tree_outline.js";import*as g from"../../../ui/components/data_grid/data_grid.js";import*as p from"../../../ui/legacy/components/utils/utils.js";import*as u from"../../network/forward/forward.js";import*as w from"../../../core/common/common.js";import*as b from"../../../models/bindings/bindings.js";import*as v from"../../../core/platform/platform.js";import*as f from"../../../models/workspace/workspace.js";import*as k from"../../../ui/components/adorners/adorners.js";import*as T from"../../../core/host/host.js";import*as S from"../../../ui/components/input/input.js";const R={notMainFrame:"Navigation happened in a frame other than the main frame.",backForwardCacheDisabled:"Back/forward cache is disabled by flags. Visit chrome://flags/#back-forward-cache to enable it locally on this device.",relatedActiveContentsExist:"The page was opened using '`window.open()`' and another tab has a reference to it, or the page opened a window.",HTTPStatusNotOK:"Only pages with a status code of 2XX can be cached.",schemeNotHTTPOrHTTPS:"Only pages whose URL scheme is HTTP / HTTPS can be cached.",loading:"The page did not finish loading before navigating away.",wasGrantedMediaAccess:"Pages that have granted access to record video or audio are not currently eligible for back/forward cache.",HTTPMethodNotGET:"Only pages loaded via a GET request are eligible for back/forward cache.",subframeIsNavigating:"An iframe on the page started a navigation that did not complete.",timeout:"The page exceeded the maximum time in back/forward cache and was expired.",cacheLimit:"The page was evicted from the cache to allow another page to be cached.",JavaScriptExecution:"Chrome detected an attempt to execute JavaScript while in the cache.",rendererProcessKilled:"The renderer process for the page in back/forward cache was killed.",rendererProcessCrashed:"The renderer process for the page in back/forward cache crashed.",grantedMediaStreamAccess:"Pages that have granted media stream access are not currently eligible for back/forward cache.",cacheFlushed:"The cache was intentionally cleared.",serviceWorkerVersionActivation:"The page was evicted from back/forward cache due to a service worker activation.",sessionRestored:"Chrome restarted and cleared the back/forward cache entries.",serviceWorkerPostMessage:"A service worker attempted to send the page in back/forward cache a `MessageEvent`.",enteredBackForwardCacheBeforeServiceWorkerHostAdded:"A service worker was activated while the page was in back/forward cache.",serviceWorkerClaim:"The page was claimed by a service worker while it is in back/forward cache.",haveInnerContents:"Pages that use portals are not currently eligible for back/forward cache.",timeoutPuttingInCache:"The page timed out entering back/forward cache (likely due to long-running pagehide handlers).",backForwardCacheDisabledByLowMemory:"Back/forward cache is disabled due to insufficient memory.",backForwardCacheDisabledByCommandLine:"Back/forward cache is disabled by the command line.",networkRequestDatapipeDrainedAsBytesConsumer:"Pages that have inflight fetch() or XHR are not currently eligible for back/forward cache.",networkRequestRedirected:"The page was evicted from back/forward cache because an active network request involved a redirect.",networkRequestTimeout:"The page was evicted from the cache because a network connection was open too long. Chrome limits the amount of time that a page may receive data while cached.",networkExceedsBufferLimit:"The page was evicted from the cache because an active network connection received too much data. Chrome limits the amount of data that a page may receive while cached.",navigationCancelledWhileRestoring:"Navigation was cancelled before the page could be restored from back/forward cache.",backForwardCacheDisabledForPrerender:"Back/forward cache is disabled for prerenderer.",userAgentOverrideDiffers:"Browser has changed the user agent override header.",foregroundCacheLimit:"The page was evicted from the cache to allow another page to be cached.",backForwardCacheDisabledForDelegate:"Back/forward cache is not supported by delegate.",unloadHandlerExistsInMainFrame:"The page has an unload handler in the main frame.",unloadHandlerExistsInSubFrame:"The page has an unload handler in a sub frame.",serviceWorkerUnregistration:"ServiceWorker was unregistered while a page was in back/forward cache.",noResponseHead:"Pages that do not have a valid response head cannot enter back/forward cache.",cacheControlNoStore:"Pages with cache-control:no-store header cannot enter back/forward cache.",ineligibleAPI:"Ineligible APIs were used.",internalError:"Internal error.",webSocket:"Pages with WebSocket cannot enter back/forward cache.",webTransport:"Pages with WebTransport cannot enter back/forward cache.",webRTC:"Pages with WebRTC cannot enter back/forward cache.",mainResourceHasCacheControlNoStore:"Pages whose main resource has cache-control:no-store cannot enter back/forward cache.",mainResourceHasCacheControlNoCache:"Pages whose main resource has cache-control:no-cache cannot enter back/forward cache.",subresourceHasCacheControlNoStore:"Pages whose subresource has cache-control:no-store cannot enter back/forward cache.",subresourceHasCacheControlNoCache:"Pages whose subresource has cache-control:no-cache cannot enter back/forward cache.",containsPlugins:"Pages containing plugins are not currently eligible for back/forward cache.",documentLoaded:"The document did not finish loading before navigating away.",dedicatedWorkerOrWorklet:"Pages that use a dedicated worker or worklet are not currently eligible for back/forward cache.",outstandingNetworkRequestOthers:"Pages with an in-flight network request are not currently eligible for back/forward cache.",outstandingIndexedDBTransaction:"Page with ongoing indexed DB transactions are not currently eligible for back/forward cache.",requestedNotificationsPermission:"Pages that have requested notifications permissions are not currently eligible for back/forward cache.",requestedMIDIPermission:"Pages that have requested MIDI permissions are not currently eligible for back/forward cache.",requestedAudioCapturePermission:"Pages that have requested audio capture permissions are not currently eligible for back/forward cache.",requestedVideoCapturePermission:"Pages that have requested video capture permissions are not currently eligible for back/forward cache.",requestedBackForwardCacheBlockedSensors:"Pages that have requested sensor permissions are not currently eligible for back/forward cache.",requestedBackgroundWorkPermission:"Pages that have requested background sync or fetch permissions are not currently eligible for back/forward cache.",broadcastChannel:"The page cannot be cached because it has a BroadcastChannel instance with registered listeners.",indexedDBConnection:"Pages that have an open IndexedDB connection are not currently eligible for back/forward cache.",webXR:"Pages that use WebXR are not currently eligible for back/forward cache.",sharedWorker:"Pages that use SharedWorker are not currently eligible for back/forward cache.",webLocks:"Pages that use WebLocks are not currently eligible for back/forward cache.",webHID:"Pages that use WebHID are not currently eligible for back/forward cache.",webShare:"Pages that use WebShare are not currently eligible for back/forwad cache.",requestedStorageAccessGrant:"Pages that have requested storage access are not currently eligible for back/forward cache.",webNfc:"Pages that use WebNfc are not currently eligible for back/forwad cache.",outstandingNetworkRequestFetch:"Pages with an in-flight fetch network request are not currently eligible for back/forward cache.",outstandingNetworkRequestXHR:"Pages with an in-flight XHR network request are not currently eligible for back/forward cache.",appBanner:"Pages that requested an AppBanner are not currently eligible for back/forward cache.",printing:"Pages that show Printing UI are not currently eligible for back/forward cache.",webDatabase:"Pages that use WebDatabase are not currently eligible for back/forward cache.",pictureInPicture:"Pages that use Picture-in-Picture are not currently eligible for back/forward cache.",portal:"Pages that use portals are not currently eligible for back/forward cache.",speechRecognizer:"Pages that use SpeechRecognizer are not currently eligible for back/forward cache.",idleManager:"Pages that use IdleManager are not currently eligible for back/forward cache.",paymentManager:"Pages that use PaymentManager are not currently eligible for back/forward cache.",speechSynthesis:"Pages that use SpeechSynthesis are not currently eligible for back/forward cache.",keyboardLock:"Pages that use Keyboard lock are not currently eligible for back/forward cache.",webOTPService:"Pages that use WebOTPService are not currently eligible for bfcache.",outstandingNetworkRequestDirectSocket:"Pages with an in-flight network request are not currently eligible for back/forward cache.",injectedJavascript:"IPages that JavaScript is injected into by extensions are not currently eligible for back/forward cache.",injectedStyleSheet:"Pages that StyleSheet is injected into by extensions are not currently eligible for back/forward cache.",contentSecurityHandler:"Pages that use SecurityHandler are not eligible for back/forward cache.",contentWebAuthenticationAPI:"Pages that use WebAuthetication API are not eligible for back/forward cache.",contentFileChooser:"Pages that use FileChooser API are not eligible for back/forward cache.",contentSerial:"Pages that use Serial API are not eligible for back/forward cache.",contentFileSystemAccess:"Pages that use File System Access API are not eligible for back/forward cache.",contentMediaDevicesDispatcherHost:"Pages that use Media Device Dispatcher are not eligible for back/forward cache.",contentWebBluetooth:"Pages that use WebBluetooth API are not eligible for back/forward cache.",contentWebUSB:"Pages that use WebUSB API are not eligible for back/forward cache.",contentMediaSession:"Pages that use MediaSession API and set a playback state are not eligible for back/forward cache.",contentMediaSessionService:"Pages that use MediaSession API and set action handlers are not eligible for back/forward cache.",contentMediaPlay:"A media player was playing upon navigating away.",contentScreenReader:"Back/forward cache is disabled due to screen reader.",embedderPopupBlockerTabHelper:"Popup blocker was present upon navigating away.",embedderSafeBrowsingTriggeredPopupBlocker:"Safe Browsing considered this page to be abusive and blocked popup.",embedderSafeBrowsingThreatDetails:"Safe Browsing details were shown upon navigating away.",embedderAppBannerManager:"App Banner was present upon navigating away.",embedderDomDistillerViewerSource:"DOM Distiller Viewer was present upon navigating away.",embedderDomDistillerSelfDeletingRequestDelegate:"DOM distillation was in progress upon navigating away.",embedderOomInterventionTabHelper:"Out-Of-Memory Intervention bar was present upon navigating away.",embedderOfflinePage:"The offline page was shown upon navigating away.",embedderChromePasswordManagerClientBindCredentialManager:"Chrome Password Manager was present upon navigating away.",embedderPermissionRequestManager:"There were permission requests upon navigating away.",embedderModalDialog:"Modal dialog such as form resubmission or http password dialog was shown for the page upon navigating away.",embedderExtensions:"Back/forward cache is disabled due to extensions.",embedderExtensionMessaging:"Back/forward cache is disabled due to extensions using messaging API.",embedderExtensionMessagingForOpenPort:"Extensions with long-lived connection should close the connection before entering back/forward cache.",embedderExtensionSentMessageToCachedFrame:"Extensions with long-lived connection attempted to send messages to frames in back/forward cache.",errorDocument:"Back/forward cache is disabled due to a document error.",fencedFramesEmbedder:"Pages using FencedFrames cannot be stored in bfcache.",keepaliveRequest:"Back/forward cache is disabled due to a keepalive request.",authorizationHeader:"Back/forward cache is disabled due to a keepalive request.",indexedDBEvent:"Back/forward cache is disabled due to an IndexedDB event."},y=e.i18n.registerUIStrings("panels/application/components/BackForwardCacheStrings.ts",R),x=e.i18n.getLazilyComputedLocalizedString.bind(void 0,y),$={NotPrimaryMainFrame:{name:x(R.notMainFrame)},BackForwardCacheDisabled:{name:x(R.backForwardCacheDisabled)},RelatedActiveContentsExist:{name:x(R.relatedActiveContentsExist)},HTTPStatusNotOK:{name:x(R.HTTPStatusNotOK)},SchemeNotHTTPOrHTTPS:{name:x(R.schemeNotHTTPOrHTTPS)},Loading:{name:x(R.loading)},WasGrantedMediaAccess:{name:x(R.wasGrantedMediaAccess)},HTTPMethodNotGET:{name:x(R.HTTPMethodNotGET)},SubframeIsNavigating:{name:x(R.subframeIsNavigating)},Timeout:{name:x(R.timeout)},CacheLimit:{name:x(R.cacheLimit)},JavaScriptExecution:{name:x(R.JavaScriptExecution)},RendererProcessKilled:{name:x(R.rendererProcessKilled)},RendererProcessCrashed:{name:x(R.rendererProcessCrashed)},GrantedMediaStreamAccess:{name:x(R.grantedMediaStreamAccess)},CacheFlushed:{name:x(R.cacheFlushed)},ServiceWorkerVersionActivation:{name:x(R.serviceWorkerVersionActivation)},SessionRestored:{name:x(R.sessionRestored)},ServiceWorkerPostMessage:{name:x(R.serviceWorkerPostMessage)},EnteredBackForwardCacheBeforeServiceWorkerHostAdded:{name:x(R.enteredBackForwardCacheBeforeServiceWorkerHostAdded)},ServiceWorkerClaim:{name:x(R.serviceWorkerClaim)},HaveInnerContents:{name:x(R.haveInnerContents)},TimeoutPuttingInCache:{name:x(R.timeoutPuttingInCache)},BackForwardCacheDisabledByLowMemory:{name:x(R.backForwardCacheDisabledByLowMemory)},BackForwardCacheDisabledByCommandLine:{name:x(R.backForwardCacheDisabledByCommandLine)},NetworkRequestDatapipeDrainedAsBytesConsumer:{name:x(R.networkRequestDatapipeDrainedAsBytesConsumer)},NetworkRequestRedirected:{name:x(R.networkRequestRedirected)},NetworkRequestTimeout:{name:x(R.networkRequestTimeout)},NetworkExceedsBufferLimit:{name:x(R.networkExceedsBufferLimit)},NavigationCancelledWhileRestoring:{name:x(R.navigationCancelledWhileRestoring)},BackForwardCacheDisabledForPrerender:{name:x(R.backForwardCacheDisabledForPrerender)},UserAgentOverrideDiffers:{name:x(R.userAgentOverrideDiffers)},ForegroundCacheLimit:{name:x(R.foregroundCacheLimit)},BackForwardCacheDisabledForDelegate:{name:x(R.backForwardCacheDisabledForDelegate)},UnloadHandlerExistsInMainFrame:{name:x(R.unloadHandlerExistsInMainFrame)},UnloadHandlerExistsInSubFrame:{name:x(R.unloadHandlerExistsInSubFrame)},ServiceWorkerUnregistration:{name:x(R.serviceWorkerUnregistration)},NoResponseHead:{name:x(R.noResponseHead)},CacheControlNoStore:{name:x(R.cacheControlNoStore)},CacheControlNoStoreCookieModified:{name:x(R.cacheControlNoStore)},CacheControlNoStoreHTTPOnlyCookieModified:{name:x(R.cacheControlNoStore)},DisableForRenderFrameHostCalled:{name:x(R.ineligibleAPI)},BlocklistedFeatures:{name:x(R.ineligibleAPI)},SchedulerTrackedFeatureUsed:{name:x(R.ineligibleAPI)},DomainNotAllowed:{name:x(R.internalError)},ConflictingBrowsingInstance:{name:x(R.internalError)},NotMostRecentNavigationEntry:{name:x(R.internalError)},IgnoreEventAndEvict:{name:x(R.internalError)},BrowsingInstanceNotSwapped:{name:x(R.internalError)},ActivationNavigationsDisallowedForBug1234857:{name:x(R.internalError)},Unknown:{name:x(R.internalError)},RenderFrameHostReused_SameSite:{name:x(R.internalError)},RenderFrameHostReused_CrossSite:{name:x(R.internalError)},WebSocket:{name:x(R.webSocket)},WebTransport:{name:x(R.webTransport)},WebRTC:{name:x(R.webRTC)},MainResourceHasCacheControlNoStore:{name:x(R.mainResourceHasCacheControlNoStore)},MainResourceHasCacheControlNoCache:{name:x(R.mainResourceHasCacheControlNoCache)},SubresourceHasCacheControlNoStore:{name:x(R.subresourceHasCacheControlNoStore)},SubresourceHasCacheControlNoCache:{name:x(R.subresourceHasCacheControlNoCache)},ContainsPlugins:{name:x(R.containsPlugins)},DocumentLoaded:{name:x(R.documentLoaded)},DedicatedWorkerOrWorklet:{name:x(R.dedicatedWorkerOrWorklet)},OutstandingNetworkRequestOthers:{name:x(R.outstandingNetworkRequestOthers)},OutstandingIndexedDBTransaction:{name:x(R.outstandingIndexedDBTransaction)},RequestedNotificationsPermission:{name:x(R.requestedNotificationsPermission)},RequestedMIDIPermission:{name:x(R.requestedMIDIPermission)},RequestedAudioCapturePermission:{name:x(R.requestedAudioCapturePermission)},RequestedVideoCapturePermission:{name:x(R.requestedVideoCapturePermission)},RequestedBackForwardCacheBlockedSensors:{name:x(R.requestedBackForwardCacheBlockedSensors)},RequestedBackgroundWorkPermission:{name:x(R.requestedBackgroundWorkPermission)},BroadcastChannel:{name:x(R.broadcastChannel)},IndexedDBConnection:{name:x(R.indexedDBConnection)},WebXR:{name:x(R.webXR)},SharedWorker:{name:x(R.sharedWorker)},WebLocks:{name:x(R.webLocks)},WebHID:{name:x(R.webHID)},WebShare:{name:x(R.webShare)},RequestedStorageAccessGrant:{name:x(R.requestedStorageAccessGrant)},WebNfc:{name:x(R.webNfc)},OutstandingNetworkRequestFetch:{name:x(R.outstandingNetworkRequestFetch)},OutstandingNetworkRequestXHR:{name:x(R.outstandingNetworkRequestXHR)},AppBanner:{name:x(R.appBanner)},Printing:{name:x(R.printing)},WebDatabase:{name:x(R.webDatabase)},PictureInPicture:{name:x(R.pictureInPicture)},Portal:{name:x(R.portal)},SpeechRecognizer:{name:x(R.speechRecognizer)},IdleManager:{name:x(R.idleManager)},PaymentManager:{name:x(R.paymentManager)},SpeechSynthesis:{name:x(R.speechSynthesis)},KeyboardLock:{name:x(R.keyboardLock)},WebOTPService:{name:x(R.webOTPService)},OutstandingNetworkRequestDirectSocket:{name:x(R.outstandingNetworkRequestDirectSocket)},InjectedJavascript:{name:x(R.injectedJavascript)},InjectedStyleSheet:{name:x(R.injectedStyleSheet)},Dummy:{name:x(R.internalError)},ContentSecurityHandler:{name:x(R.contentSecurityHandler)},ContentWebAuthenticationAPI:{name:x(R.contentWebAuthenticationAPI)},ContentFileChooser:{name:x(R.contentFileChooser)},ContentSerial:{name:x(R.contentSerial)},ContentFileSystemAccess:{name:x(R.contentFileSystemAccess)},ContentMediaDevicesDispatcherHost:{name:x(R.contentMediaDevicesDispatcherHost)},ContentWebBluetooth:{name:x(R.contentWebBluetooth)},ContentWebUSB:{name:x(R.contentWebUSB)},ContentMediaSession:{name:x(R.contentMediaSession)},ContentMediaSessionService:{name:x(R.contentMediaSessionService)},ContentMediaPlay:{name:x(R.contentMediaPlay)},ContentScreenReader:{name:x(R.contentScreenReader)},EmbedderPopupBlockerTabHelper:{name:x(R.embedderPopupBlockerTabHelper)},EmbedderSafeBrowsingTriggeredPopupBlocker:{name:x(R.embedderSafeBrowsingTriggeredPopupBlocker)},EmbedderSafeBrowsingThreatDetails:{name:x(R.embedderSafeBrowsingThreatDetails)},EmbedderAppBannerManager:{name:x(R.embedderAppBannerManager)},EmbedderDomDistillerViewerSource:{name:x(R.embedderDomDistillerViewerSource)},EmbedderDomDistillerSelfDeletingRequestDelegate:{name:x(R.embedderDomDistillerSelfDeletingRequestDelegate)},EmbedderOomInterventionTabHelper:{name:x(R.embedderOomInterventionTabHelper)},EmbedderOfflinePage:{name:x(R.embedderOfflinePage)},EmbedderChromePasswordManagerClientBindCredentialManager:{name:x(R.embedderChromePasswordManagerClientBindCredentialManager)},EmbedderPermissionRequestManager:{name:x(R.embedderPermissionRequestManager)},EmbedderModalDialog:{name:x(R.embedderModalDialog)},EmbedderExtensions:{name:x(R.embedderExtensions)},EmbedderExtensionMessaging:{name:x(R.embedderExtensionMessaging)},EmbedderExtensionMessagingForOpenPort:{name:x(R.embedderExtensionMessagingForOpenPort)},EmbedderExtensionSentMessageToCachedFrame:{name:x(R.embedderExtensionSentMessageToCachedFrame)},ErrorDocument:{name:x(R.errorDocument)},FencedFramesEmbedder:{name:x(R.fencedFramesEmbedder)},KeepaliveRequest:{name:x(R.keepaliveRequest)},AuthorizationHeader:{name:x(R.authorizationHeader)},IndexedDBEvent:{name:x(R.indexedDBEvent)}},N=new CSSStyleSheet;N.replaceSync(".inline-icon{vertical-align:sub}.gray-text{color:var(--color-text-secondary);margin:0 0 5px 56px;display:flex;flex-direction:row;align-items:center;flex:auto;overflow-wrap:break-word;overflow:hidden}.explanation-frames{margin-left:56px;grid-column-start:span 2}.help-outline-icon{margin:0 2px}.circled-exclamation-icon{margin-right:10px;flex-shrink:0}.status{margin-right:15px;flex-shrink:0}.report-line{grid-column-start:span 2;display:flex;align-items:center;margin:0 30px;line-height:26px}.report-key{color:var(--color-text-secondary);min-width:auto;overflow-wrap:break-word;align-self:start}.report-value{padding:0 6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.link,\n.devtools-link{color:var(--color-link);text-decoration:underline;cursor:pointer;outline-offset:2px}.tree-outline li .selection{margin-left:-5px}\n/*# sourceURL=backForwardCacheView.css */\n");const C={mainFrame:"Main Frame",backForwardCacheTitle:"Back/forward cache",unavailable:"unavailable",url:"URL:",unknown:"Unknown Status",normalNavigation:"Not served from back/forward cache: to trigger back/forward cache, use Chrome's back/forward buttons, or use the test button below to automatically navigate away and back.",restoredFromBFCache:"Successfully served from back/forward cache.",pageSupportNeeded:"Actionable",pageSupportNeededExplanation:"These reasons are actionable i.e. they can be cleaned up to make the page eligible for back/forward cache.",circumstantial:"Not Actionable",circumstantialExplanation:"These reasons are not actionable i.e. caching was prevented by something outside of the direct control of the page.",supportPending:"Pending Support",runTest:"Test back/forward cache",runningTest:"Running test",learnMore:"Learn more: back/forward cache eligibility",neverUseUnload:"Learn more: Never use unload handler",supportPendingExplanation:"Chrome support for these reasons is pending i.e. they will not prevent the page from being eligible for back/forward cache in a future version of Chrome.",blockingExtensionId:"Extension id: ",framesTitle:"Frames",issuesInSingleFrame:"{n, plural, =1 {# issue found in 1 frame.} other {# issues found in 1 frame.}}",issuesInMultipleFrames:"{n, plural, =1 {# issue found in {m} frames.} other {# issues found in {m} frames.}}",framesPerIssue:"{n, plural, =1 {# frame} other {# frames}}",blankURLTitle:"Blank URL [{PH1}]"},I=e.i18n.registerUIStrings("panels/application/components/BackForwardCacheView.ts",C),P=e.i18n.getLocalizedString.bind(void 0,I);class D extends n.ThrottledWidget.ThrottledWidget{#e;constructor(e){super(!0,1e3),this.#e=e,this.#t()?.addEventListener(r.ResourceTreeModel.Events.MainFrameNavigated,this.update,this),this.#t()?.addEventListener(r.ResourceTreeModel.Events.BackForwardCacheDetailsUpdated,this.update,this),this.contentElement.classList.add("overflow-auto"),this.contentElement.appendChild(this.#e),this.update()}async doUpdate(){this.#e.data={frame:this.#r()}}#t(){return r.TargetManager.TargetManager.instance().mainFrameTarget()?.model(r.ResourceTreeModel.ResourceTreeModel)||null}#r(){return this.#t()?.mainFrame||null}}const V=c.RenderCoordinator.RenderCoordinator.instance();class M extends HTMLElement{static litTagName=a.literal`devtools-resources-back-forward-cache-view`;#a=this.attachShadow({mode:"open"});#o=null;#i="Result";#n=0;#s=0;connectedCallback(){this.#a.adoptedStyleSheets=[N]}set data(e){this.#o=e.frame,this.#l()}async#l(){await V.write("BackForwardCacheView render",(()=>{a.render(a.html` <${i.ReportView.Report.litTagName} .data="${{reportTitle:P(C.backForwardCacheTitle)}}"> ${this.#c()} </${i.ReportView.Report.litTagName}> `,this.#a,{host:this})}))}#d(){r.TargetManager.TargetManager.instance().removeModelListener(r.ResourceTreeModel.ResourceTreeModel,r.ResourceTreeModel.Events.FrameNavigated,this.#d,this),this.#i="Result",this.#l()}async#h(){r.TargetManager.TargetManager.instance().removeModelListener(r.ResourceTreeModel.ResourceTreeModel,r.ResourceTreeModel.Events.FrameNavigated,this.#h,this),await this.#m(50)}async#m(e){const t=r.TargetManager.TargetManager.instance().mainFrameTarget()?.model(r.ResourceTreeModel.ResourceTreeModel),a=await(t?.navigationHistory());t&&a&&(a.currentIndex===this.#s?window.setTimeout(this.#m.bind(this,2*e),e):(r.TargetManager.TargetManager.instance().addModelListener(r.ResourceTreeModel.ResourceTreeModel,r.ResourceTreeModel.Events.FrameNavigated,this.#d,this),t.navigateToHistoryEntry(a.entries[a.currentIndex-1])))}async#g(){const e=r.TargetManager.TargetManager.instance().mainFrameTarget()?.model(r.ResourceTreeModel.ResourceTreeModel),t=await(e?.navigationHistory());e&&t&&(this.#s=t.currentIndex,this.#i="Running",this.#l(),r.TargetManager.TargetManager.instance().addModelListener(r.ResourceTreeModel.ResourceTreeModel,r.ResourceTreeModel.Events.FrameNavigated,this.#h,this),e.navigate("chrome://terms"))}#c(){if(!this.#o)return a.html` <${i.ReportView.ReportKey.litTagName}> ${P(C.mainFrame)} </${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${P(C.unavailable)} </${i.ReportView.ReportValue.litTagName}> `;const e="Running"===this.#i,r=this.#o.url.startsWith("devtools://");return a.html` ${this.#p(this.#o.backForwardCacheDetails.restoredFromCache)} <div class="report-line"> <div class="report-key"> ${P(C.url)} </div> <div class="report-value" title="${this.#o.url}"> ${this.#o.url} </div> </div> ${this.#u(this.#o.backForwardCacheDetails.explanationsTree)} <${i.ReportView.ReportSection.litTagName}> <${t.Button.Button.litTagName} aria-label="${P(C.runTest)}" .disabled="${e||r}" .spinner="${e}" .variant="${"primary"}" @click="${this.#g}"> ${e?a.html` ${P(C.runningTest)}`:`\n            ${P(C.runTest)}\n          `} </${t.Button.Button.litTagName}> </${i.ReportView.ReportSection.litTagName}> <${i.ReportView.ReportSectionDivider.litTagName}> </${i.ReportView.ReportSectionDivider.litTagName}> ${this.#w(this.#o.backForwardCacheDetails.explanations,this.#o.backForwardCacheDetails.explanationsTree)} <${i.ReportView.ReportSection.litTagName}> <x-link href="https://web.dev/bfcache/" class="link"> ${P(C.learnMore)} </x-link> </${i.ReportView.ReportSection.litTagName}> `}#u(e){if(!e||0===e.explanations.length&&0===e.children.length||!o.Runtime.experiments.isEnabled("bfcacheDisplayTree"))return a.nothing;const t=this.#b(e,{blankCount:1});t.node.treeNodeData.iconName="frame-icon";let r="";r=1===t.frameCount?P(C.issuesInSingleFrame,{n:t.issueCount}):P(C.issuesInMultipleFrames,{n:t.issueCount,m:t.frameCount});const i={treeNodeData:{text:r},id:"root",children:()=>Promise.resolve([t.node])};return a.html` <div class="report-line"> <div class="report-key"> ${P(C.framesTitle)} </div> <div class="report-value"> <${m.TreeOutline.TreeOutline.litTagName} .data="${{tree:[i],defaultRenderer:function(e){return a.html` <div class="text-ellipsis"> ${e.treeNodeData.iconName?a.html` <${s.Icon.Icon.litTagName} class="inline-icon" .data="${{iconName:e.treeNodeData.iconName,color:"var(--color-text-secondary)",width:"16px",height:"16px"}}"> </${s.Icon.Icon.litTagName}> `:a.nothing} ${e.treeNodeData.text} </div> `},compact:!0}}"> </${m.TreeOutline.TreeOutline.litTagName}> </div> </div> `}#b(e,t){let r=1,a=0;const o=[];let i="";e.url.length?i=e.url:(i=P(C.blankURLTitle,{PH1:t.blankCount}),t.blankCount+=1);for(const t of e.explanations){const e={treeNodeData:{text:t.reason},id:String(this.#n++)};a+=1,o.push(e)}for(const i of e.children){const e=this.#b(i,t);e.issueCount>0&&(o.push(e.node),a+=e.issueCount,r+=e.frameCount)}let n={treeNodeData:{text:`(${a}) ${i}`},id:String(this.#n++)};return o.length?(n={...n,children:()=>Promise.resolve(o)},n.treeNodeData.iconName="frame-embedded-icon"):e.url.length||(t.blankCount-=1),{node:n,frameCount:r,issueCount:a}}#p(e){switch(e){case!0:return a.html` <${i.ReportView.ReportSection.litTagName}> <div class="status"> <${s.Icon.Icon.litTagName} class="inline-icon" .data="${{iconName:"ic_checkmark_16x16",color:"green",width:"16px",height:"16px"}}"> </${s.Icon.Icon.litTagName}> </div> ${P(C.restoredFromBFCache)} </${i.ReportView.ReportSection.litTagName}> `;case!1:return a.html` <${i.ReportView.ReportSection.litTagName}> <div class="status"> <${s.Icon.Icon.litTagName} class="inline-icon" .data="${{iconName:"circled_backslash_icon",color:"var(--color-text-secondary)",width:"16px",height:"16px"}}"> </${s.Icon.Icon.litTagName}> </div> ${P(C.normalNavigation)} </${i.ReportView.ReportSection.litTagName}> `}return a.html` <${i.ReportView.ReportSection.litTagName}> ${P(C.unknown)} </${i.ReportView.ReportSection.litTagName}> `}#v(e,t,r){let a=e.url;0===a.length&&(a=P(C.blankURLTitle,{PH1:t.blankCount}),t.blankCount+=1),e.explanations.forEach((e=>{let t=r.get(e.reason);void 0===t?(t=[a],r.set(e.reason,t)):t.push(a)})),e.children.map((e=>{this.#v(e,t,r)}))}#w(e,t){if(0===e.length)return a.nothing;const r=e.filter((e=>"PageSupportNeeded"===e.type)),o=e.filter((e=>"SupportPending"===e.type)),i=e.filter((e=>"Circumstantial"===e.type)),n=new Map;return t&&this.#v(t,{blankCount:1},n),a.html` ${this.#f(P(C.pageSupportNeeded),P(C.pageSupportNeededExplanation),r,n)} ${this.#f(P(C.supportPending),P(C.supportPendingExplanation),o,n)} ${this.#f(P(C.circumstantial),P(C.circumstantialExplanation),i,n)} `}#f(e,t,r,o){return a.html` ${r.length>0?a.html` <${i.ReportView.ReportSectionHeader.litTagName}> ${e} <div class="help-outline-icon"> <${s.Icon.Icon.litTagName} class="inline-icon" .data="${{iconName:"help_outline",color:"var(--color-text-secondary)",width:"16px",height:"16px"}}" title="${t}"> </${s.Icon.Icon.litTagName}> </div> </${i.ReportView.ReportSectionHeader.litTagName}> ${r.map((e=>this.#k(e,o.get(e.reason))))} `:a.nothing} `}#T(e){if("EmbedderExtensionSentMessageToCachedFrame"===e.reason&&e.context){const t="chrome://extensions/?id="+e.context;return a.html`${P(C.blockingExtensionId)} <${d.ChromeLink.ChromeLink.litTagName} .href="${t}">${e.context}</${d.ChromeLink.ChromeLink.litTagName}>`}return a.nothing}#S(e){if(void 0===e||0===e.length||!o.Runtime.experiments.isEnabled("bfcacheDisplayTree"))return a.nothing;const t=[a.html`<div>${P(C.framesPerIssue,{n:e.length})}</div>`];return t.push(...e.map((e=>a.html`<div class="text-ellipsis" title="${e}">${e}</div>`))),a.html` <div class="explanation-frames"> <${h.ExpandableList.ExpandableList.litTagName} .data="${{rows:t}}"></${h.ExpandableList.ExpandableList.litTagName}> </div> `}#R(e){return"UnloadHandlerExistsInMainFrame"===e.reason||"UnloadHandlerExistsInSubFrame"===e.reason?a.html` <x-link href="https://web.dev/bfcache/#never-use-the-unload-event" class="link"> ${P(C.neverUseUnload)} </x-link>`:a.nothing}#k(e,t){return a.html` <${i.ReportView.ReportSection.litTagName}> ${e.reason in $?a.html` <div class="circled-exclamation-icon"> <${s.Icon.Icon.litTagName} class="inline-icon" .data="${{iconName:"circled_exclamation_icon",color:"orange",width:"16px",height:"16px"}}"> </${s.Icon.Icon.litTagName}> </div> <div> ${$[e.reason].name()} ${this.#R(e)} ${this.#T(e)} </div>`:a.nothing} </${i.ReportView.ReportSection.litTagName}> <div class="gray-text"> ${e.reason} </div> ${this.#S(t)} `}}l.CustomElements.defineComponent("devtools-resources-back-forward-cache-view",M);var E=Object.freeze({__proto__:null,BackForwardCacheViewWrapper:D,BackForwardCacheView:M});const F=new CSSStyleSheet;F.replaceSync(":host{overflow:auto;height:100%}.reporting-container{height:100%;display:flex;flex-direction:column}.reporting-header{font-size:15px;background-color:var(--color-background-elevation-1);padding:1px 4px}.reporting-placeholder{flex-grow:1;display:flex;align-items:center;justify-content:center;font-size:13px;color:var(--color-text-secondary)}devtools-data-grid-controller{border:1px solid var(--color-details-hairline)}.inline-icon{vertical-align:text-bottom}\n/*# sourceURL=reportingApiGrid.css */\n");const A={noEndpointsToDisplay:"No endpoints to display"},B=e.i18n.registerUIStrings("panels/application/components/EndpointsGrid.ts",A),L=e.i18n.getLocalizedString.bind(void 0,B),{render:H,html:O}=a;class U extends HTMLElement{static litTagName=a.literal`devtools-resources-endpoints-grid`;#a=this.attachShadow({mode:"open"});#y=new Map;connectedCallback(){this.#a.adoptedStyleSheets=[F],this.#l()}set data(e){this.#y=e.endpoints,this.#l()}#l(){const t={columns:[{id:"origin",title:e.i18n.lockedString("Origin"),widthWeighting:30,hideable:!1,visible:!0},{id:"name",title:e.i18n.lockedString("Name"),widthWeighting:20,hideable:!1,visible:!0},{id:"url",title:e.i18n.lockedString("URL"),widthWeighting:30,hideable:!1,visible:!0}],rows:this.#x()};H(O` <div class="reporting-container"> <div class="reporting-header">${e.i18n.lockedString("Endpoints")}</div> ${this.#y.size>0?O` <${g.DataGridController.DataGridController.litTagName} .data="${t}"> </${g.DataGridController.DataGridController.litTagName}> `:O` <div class="reporting-placeholder"> <div>${L(A.noEndpointsToDisplay)}</div> </div> `} </div> `,this.#a,{host:this})}#x(){return Array.from(this.#y).map((([e,t])=>t.map((t=>({cells:[{columnId:"origin",value:e},{columnId:"name",value:t.groupName},{columnId:"url",value:t.url}]}))))).flat()}}l.CustomElements.defineComponent("devtools-resources-endpoints-grid",U);var W=Object.freeze({__proto__:null,i18nString:L,EndpointsGrid:U});const q=new CSSStyleSheet;q.replaceSync(".stack-trace-row{display:flex}.stack-trace-function-name{width:100px}.stack-trace-source-location{display:flex;overflow:hidden}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.stack-trace-source-location .text-ellipsis{padding-right:2px}.ignore-list-link{opacity:60%}.link,\n.devtools-link{color:var(--color-link);text-decoration:underline;cursor:pointer;outline-offset:2px}\n/*# sourceURL=stackTraceRow.css */\n");const _=new CSSStyleSheet;_.replaceSync("button.link{color:var(--color-link);text-decoration:underline;cursor:pointer;outline-offset:2px;border:none;background:none;font-family:inherit;font-size:inherit}\n/*# sourceURL=stackTraceLinkButton.css */\n");const G={cannotRenderStackTrace:"Cannot render stack trace",showSMoreFrames:"{n, plural, =1 {Show # more frame} other {Show # more frames}}"},z=e.i18n.registerUIStrings("panels/application/components/StackTrace.ts",G),K=e.i18n.getLocalizedString.bind(void 0,z);class j extends HTMLElement{static litTagName=a.literal`devtools-stack-trace-row`;#a=this.attachShadow({mode:"open"});#$=null;set data(e){this.#$=e.stackTraceRowItem,this.#l()}connectedCallback(){this.#a.adoptedStyleSheets=[q]}#l(){this.#$&&a.render(a.html` <div class="stack-trace-row"> <div class="stack-trace-function-name text-ellipsis" title="${this.#$.functionName}"> ${this.#$.functionName} </div> <div class="stack-trace-source-location"> ${this.#$.link?a.html`<div class="text-ellipsis">\xA0@\xA0${this.#$.link}</div>`:a.nothing} </div> </div> `,this.#a,{host:this})}}class X extends HTMLElement{static litTagName=a.literal`devtools-stack-trace-link-button`;#a=this.attachShadow({mode:"open"});#N=()=>{};#C=null;set data(e){this.#N=e.onShowAllClick,this.#C=e.hiddenCallFramesCount,this.#l()}connectedCallback(){this.#a.adoptedStyleSheets=[_]}#l(){this.#C&&a.render(a.html` <div class="stack-trace-row"> <button class="link" @click="${()=>this.#N()}"> ${K(G.showSMoreFrames,{n:this.#C})} </button> </div> `,this.#a,{host:this})}}class J extends HTMLElement{static litTagName=a.literal`devtools-resources-stack-trace`;#a=this.attachShadow({mode:"open"});#I=new p.Linkifier.Linkifier;#P=[];#D=!1;set data(e){const t=e.frame,{creationStackTrace:r,creationStackTraceTarget:a}=t.getCreationStackTraceData();r&&(this.#P=e.buildStackTraceRows(r,a,this.#I,!0,this.#V.bind(this))),this.#l()}#V(e){this.#P=e,this.#l()}#N(){this.#D=!0,this.#l()}createRowTemplates(){const e=[];let t=0;for(const r of this.#P)!this.#D&&r.ignoreListHide||("functionName"in r&&e.push(a.html` <${j.litTagName} data-stack-trace-row .data="${{stackTraceRowItem:r}}"></${j.litTagName}>`),"asyncDescription"in r&&e.push(a.html` <div>${r.asyncDescription}</div> `)),!this.#D&&"functionName"in r&&r.ignoreListHide&&t++;return t&&e.push(a.html` <${X.litTagName} data-stack-trace-row .data="${{onShowAllClick:this.#N.bind(this),hiddenCallFramesCount:t}}"></${X.litTagName}> `),e}#l(){if(!this.#P.length)return void a.render(a.html` <span>${K(G.cannotRenderStackTrace)}</span> `,this.#a,{host:this});const e=this.createRowTemplates();a.render(a.html` <${h.ExpandableList.ExpandableList.litTagName} .data="${{rows:e}}"> </${h.ExpandableList.ExpandableList.litTagName}> `,this.#a,{host:this})}}l.CustomElements.defineComponent("devtools-stack-trace-row",j),l.CustomElements.defineComponent("devtools-stack-trace-link-button",X),l.CustomElements.defineComponent("devtools-resources-stack-trace",J);var Q=Object.freeze({__proto__:null,StackTraceRow:j,StackTraceLinkButton:X,StackTrace:J});const Y=new CSSStyleSheet;Y.replaceSync(":host{display:contents}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.link,\n.devtools-link{color:var(--color-link);text-decoration:underline;cursor:pointer;outline-offset:2px}button.link{border:none;background:none;font-family:inherit;font-size:inherit}.policies-list{padding-top:3px}.permissions-row{display:flex;line-height:22px}.permissions-row div{padding-right:5px}.feature-name{width:135px}.allowed-icon{padding:2.5px 0}.block-reason{width:215px}\n/*# sourceURL=permissionsPolicySection.css */\n");const Z={showDetails:"Show details",hideDetails:"Hide details",allowedFeatures:"Allowed Features",disabledFeatures:"Disabled Features",clickToShowHeader:'Click to reveal the request whose "`Permissions-Policy`" HTTP header disables this feature.',clickToShowIframe:"Click to reveal the top-most iframe which does not allow this feature in the elements panel.",disabledByIframe:'missing in iframe "`allow`" attribute',disabledByHeader:'disabled by "`Permissions-Policy`" header',disabledByFencedFrame:"disabled inside a `fencedframe`"},ee=e.i18n.registerUIStrings("panels/application/components/PermissionsPolicySection.ts",Z),te=e.i18n.getLocalizedString.bind(void 0,ee),re=c.RenderCoordinator.RenderCoordinator.instance();function ae(e,t,r){return a.html` <button class="link" role="link" tabindex="0" @click="${r}" title="${t}"> <${s.Icon.Icon.litTagName} .data="${{iconName:e,color:"var(--color-primary)",width:"16px",height:"16px"}}"> </${s.Icon.Icon.litTagName}> </button> `}class oe extends HTMLElement{static litTagName=a.literal`devtools-resources-permissions-policy-section`;#a=this.attachShadow({mode:"open"});#M={policies:[],showDetails:!1};set data(e){this.#M=e,this.#l()}connectedCallback(){this.#a.adoptedStyleSheets=[Y]}#E(){this.#M.showDetails=!this.#M.showDetails,this.#l()}#F(){const e=this.#M.policies.filter((e=>e.allowed)).map((e=>e.feature)).sort();return e.length?a.html` <${i.ReportView.ReportKey.litTagName}>${te(Z.allowedFeatures)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${e.join(", ")} </${i.ReportView.ReportValue.litTagName}> `:a.nothing}async#A(){const e=this.#M.policies.filter((e=>!e.allowed)).sort(((e,t)=>e.feature.localeCompare(t.feature)));if(!e.length)return a.nothing;if(!this.#M.showDetails)return a.html` <${i.ReportView.ReportKey.litTagName}>${te(Z.disabledFeatures)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${e.map((e=>e.feature)).join(", ")} <button class="link" @click="${()=>this.#E()}"> ${te(Z.showDetails)} </button> </${i.ReportView.ReportValue.litTagName}> `;const t=r.FrameManager.FrameManager.instance(),o=await Promise.all(e.map((async e=>{const r=e.locator?t.getFrame(e.locator.frameId):null,o=e.locator?.blockReason,i=await("IframeAttribute"===o&&r&&r.getOwnerDOMNodeOrDocument()),n=r&&r.resourceForURL(r.url),l="Header"===o&&n&&n.request,c=(()=>{switch(o){case"IframeAttribute":return te(Z.disabledByIframe);case"Header":return te(Z.disabledByHeader);case"InFencedFrameTree":return te(Z.disabledByFencedFrame);default:return""}})();return a.html` <div class="permissions-row"> <div> <${s.Icon.Icon.litTagName} class="allowed-icon" .data="${{color:"",iconName:"error_icon",width:"14px"}}"> </${s.Icon.Icon.litTagName}> </div> <div class="feature-name text-ellipsis"> ${e.feature} </div> <div class="block-reason">${c}</div> <div> ${i?ae("elements_panel_icon",te(Z.clickToShowIframe),(()=>w.Revealer.reveal(i))):a.nothing} ${l?ae("network_panel_icon",te(Z.clickToShowHeader),(async()=>{if(!l)return;const e=l.responseHeaderValue("permissions-policy")?"permissions-policy":"feature-policy",t=u.UIRequestLocation.UIRequestLocation.responseHeaderMatch(l,{name:e,value:""});await w.Revealer.reveal(t)})):a.nothing} </div> </div> `})));return a.html` <${i.ReportView.ReportKey.litTagName}>${te(Z.disabledFeatures)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName} class="policies-list"> ${o} <div class="permissions-row"> <button class="link" @click="${()=>this.#E()}"> ${te(Z.hideDetails)} </button> </div> </${i.ReportView.ReportValue.litTagName}> `}async#l(){await re.write("PermissionsPolicySection render",(()=>{a.render(a.html` <${i.ReportView.ReportSectionHeader.litTagName}>${e.i18n.lockedString("Permissions Policy")}</${i.ReportView.ReportSectionHeader.litTagName}> ${this.#F()} ${a.Directives.until(this.#A(),a.nothing)} <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `,this.#a,{host:this})}))}}l.CustomElements.defineComponent("devtools-resources-permissions-policy-section",oe);const ie=new CSSStyleSheet;ie.replaceSync(":host .badge-error{--override-adorner-text-color:var(--color-red);--override-adorner-border-color:var(--color-red)}:host .badge-success{--override-adorner-text-color:var(--color-accent-green);--override-adorner-border-color:var(--color-accent-green)}:host .badge-secondary{--override-adorner-text-color:var(--color-text-secondary);--override-adorner-border-color:var(--color-text-secondary)}:host{font-family:var(--source-code-font-family)}\n/*# sourceURL=badge.css */\n");const ne=new CSSStyleSheet;ne.replaceSync(".content{display:grid;grid-template-columns:min-content 1fr}.key{color:var(--color-text-secondary);padding:0 6px;text-align:right;white-space:pre}.value{color:var(--color-text-primary);margin-inline-start:0;padding:0 6px}.error-text{color:var(--color-red);font-weight:bold}\n/*# sourceURL=originTrialTokenRows.css */\n");const se={origin:"Origin",trialName:"Trial Name",expiryTime:"Expiry Time",usageRestriction:"Usage Restriction",isThirdParty:"Third Party",matchSubDomains:"Subdomain Matching",rawTokenText:"Raw Token",status:"Token Status",token:"Token",tokens:"{PH1} tokens"},le=e.i18n.registerUIStrings("panels/application/components/OriginTrialTreeView.ts",se),ce=e.i18n.getLocalizedString.bind(void 0,le);class de extends HTMLElement{static litTagName=a.literal`devtools-resources-origin-trial-tree-view-badge`;#a=this.attachShadow({mode:"open"});#B=new k.Adorner.Adorner;set data(e){this.#l(e)}connectedCallback(){this.#a.adoptedStyleSheets=[ie]}#l(e){const t=document.createElement("span");t.textContent=e.badgeContent,this.#B.data={name:"badge",content:t},this.#B.classList.add(`badge-${e.style}`),a.render(a.html` ${this.#B} `,this.#a,{host:this})}}function he(e){return{treeNodeData:e,id:"OriginTrialTreeNode#"+e.trialName,children:async()=>e.tokensWithStatus.length>1?e.tokensWithStatus.map(me):pe(e.tokensWithStatus[0]),renderer:e=>{const t=e.treeNodeData,r=a.html` <${de.litTagName} .data="${{badgeContent:ce(se.tokens,{PH1:t.tokensWithStatus.length}),style:"secondary"}}"></${de.litTagName}> `;return a.html` ${t.trialName} <${de.litTagName} .data="${{badgeContent:t.status,style:"Enabled"===t.status?"success":"error"}}"></${de.litTagName}> ${t.tokensWithStatus.length>1?r:a.nothing} `}}}function me(e){return{treeNodeData:e.status,id:"TokenNode#"+e.rawTokenText,children:async()=>pe(e),renderer:(e,t)=>{const r=e.treeNodeData,o=a.html` <${de.litTagName} .data="${{badgeContent:r,style:"Success"===r?"success":"error"}}"></${de.litTagName}> `;return a.html`${ce(se.token)} ${t.isExpanded?a.nothing:o}`}}}function ge(e){return a.html` <${we.litTagName} .data="${{node:e}}"> </${we.litTagName}> `}function pe(e){return[{treeNodeData:e,id:"TokenDetailsNode#"+e.rawTokenText,renderer:ge},(t=e.rawTokenText,{treeNodeData:ce(se.rawTokenText),id:"TokenRawTextContainerNode#"+t,children:async()=>[{treeNodeData:t,id:"TokenRawTextNode#"+t,renderer:e=>{const t=e.treeNodeData;return a.html` <div style="overflow-wrap: break-word;"> ${t} </div> `}}]})];var t}function ue(e){return a.html`${String(e.treeNodeData)}`}l.CustomElements.defineComponent("devtools-resources-origin-trial-tree-view-badge",de);class we extends HTMLElement{static litTagName=a.literal`devtools-resources-origin-trial-token-rows`;#a=this.attachShadow({mode:"open"});#L=null;#H=[];#O=new Intl.DateTimeFormat(e.DevToolsLocale.DevToolsLocale.instance().locale,{dateStyle:"long",timeStyle:"long"});set data(e){this.#L=e.node.treeNodeData,this.#U()}connectedCallback(){this.#a.adoptedStyleSheets=[ne],this.#l()}#W=(e,t)=>a.html` <div class="${a.Directives.ifDefined(t?"error-text":void 0)}"> ${e} </div>`;#U(){this.#L?.parsedToken&&(this.#H=[{name:ce(se.origin),value:this.#W(this.#L.parsedToken.origin,"WrongOrigin"===this.#L.status)},{name:ce(se.expiryTime),value:this.#W(this.#O.format(1e3*this.#L.parsedToken.expiryTime),"Expired"===this.#L.status)},{name:ce(se.usageRestriction),value:this.#W(this.#L.parsedToken.usageRestriction)},{name:ce(se.isThirdParty),value:this.#W(this.#L.parsedToken.isThirdParty.toString())},{name:ce(se.matchSubDomains),value:this.#W(this.#L.parsedToken.matchSubDomains.toString())}],"UnknownTrial"===this.#L.status&&(this.#H=[{name:ce(se.trialName),value:this.#W(this.#L.parsedToken.trialName)},...this.#H]))}#l(){if(!this.#L)return;const e=[{name:ce(se.status),value:a.html` <${de.litTagName} .data="${{badgeContent:this.#L.status,style:"Success"===this.#L.status?"success":"error"}}"></${de.litTagName}>`},...this.#H].map((e=>a.html` <div class="key">${e.name}</div> <div class="value">${e.value}</div> `));a.render(a.html` <div class="content"> ${e} </div> `,this.#a,{host:this})}}l.CustomElements.defineComponent("devtools-resources-origin-trial-token-rows",we);class be extends HTMLElement{static litTagName=a.literal`devtools-resources-origin-trial-tree-view`;#a=this.attachShadow({mode:"open"});set data(e){this.#l(e.trials)}#l(e){e.length&&a.render(a.html` <${m.TreeOutline.TreeOutline.litTagName} .data="${{tree:e.map(he),defaultRenderer:ue}}"> </${m.TreeOutline.TreeOutline.litTagName}> `,this.#a,{host:this})}}l.CustomElements.defineComponent("devtools-resources-origin-trial-tree-view",be);var ve=Object.freeze({__proto__:null,Badge:de,OriginTrialTokenRows:we,OriginTrialTreeView:be});const fe=new CSSStyleSheet;fe.replaceSync('.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}button ~ .text-ellipsis{padding-left:2px}.link,\n.devtools-link{color:var(--color-link);text-decoration:underline;cursor:pointer;outline-offset:2px;padding:0}button.link{border:none;background:none;font-family:inherit;font-size:inherit;height:16px}button.link:has(devtools-icon){margin:5px 1px 0}.inline-button{padding-left:1ex}.inline-comment{padding-left:1ex;white-space:pre-line}.inline-comment::before{content:"("}.inline-comment::after{content:")"}.inline-name{color:var(--color-text-secondary);padding-left:2ex;user-select:none;white-space:pre-line}.inline-name::after{content:":\\u00a0"}.inline-items{display:flex}.span-cols{grid-column-start:span 2;margin:0 0 8px 30px;line-height:28px}.button-icon-with-text{vertical-align:sub}.without-min-width{min-width:auto}\n/*# sourceURL=frameDetailsReportView.css */\n');const ke={Activated:"Activated.",Destroyed:"A prerendered page was abandoned for unknown reasons.",LowEndDevice:"Prerendering is not supported for low-memory devices.",InvalidSchemeRedirect:"Attempted to prerender a URL that redirected to a non-HTTP(S) URL. Only HTTP(S) pages can be prerendered.",InvalidSchemeNavigation:"Only HTTP(S) navigation allowed for Prerender.",InProgressNavigation:"InProgressNavigation.",NavigationRequestBlockedByCsp:"Navigation request is blocked by CSP.",MainFrameNavigation:"Navigations after the initial prerendering navigation are disallowed",MojoBinderPolicy:"A disallowed API was used by the prerendered page",RendererProcessCrashed:"The prerendered page crashed.",RendererProcessKilled:"The renderer process for the prerendering page was killed.",Download:"Download is disallowed in Prerender.",TriggerDestroyed:"Prerender is not activated and destroyed with the trigger.",NavigationNotCommitted:"The prerendering page is not committed in the end.",NavigationBadHttpStatus:"The initial prerendering navigation was not successful due to the server returning a non-200/204/205 status code.",ClientCertRequested:"The page is requesting client cert, which is not suitable for a hidden page like prerendering.",NavigationRequestNetworkError:"Encountered a network error during prerendering.",MaxNumOfRunningPrerendersExceeded:"Max number of prerendering exceeded.",CancelAllHostsForTesting:"CancelAllHostsForTesting.",DidFailLoad:"DidFailLoadWithError happened during prerendering.",Stop:"The tab is stopped.",SslCertificateError:"SSL certificate error.",LoginAuthRequested:"Prerender does not support auth requests from UI.",UaChangeRequiresReload:"Reload is needed after UserAgentOverride.",BlockedByClient:"Resource load is blocked by the client.",AudioOutputDeviceRequested:"Prerendering has not supported the AudioContext API yet.",MixedContent:"Prerendering is canceled by a mixed content frame.",TriggerBackgrounded:"The tab is in the background",EmbedderTriggeredAndSameOriginRedirected:"Prerendering triggered by Chrome internal (e.g., Omnibox prerendering) is canceled because the navigation is redirected to another same-origin page.",EmbedderTriggeredAndCrossOriginRedirected:"Prerendering triggered by Chrome internal (e.g., Omnibox prerendering) is is canceled because the navigation is redirected to another cross-origin page.",MemoryLimitExceeded:"Memory limit exceeded",FailToGetMemoryUsage:"Fail to get memory usage",DataSaverEnabled:"Data saver enabled",HasEffectiveUrl:"Has effective URL",ActivatedBeforeStarted:"Activated before started",InactivePageRestriction:"Inactive page restriction",StartFailed:"Start failed",DisallowedApiMethod:"Disallowed API method",PrerenderingOngoing:"Prerendering ongoing",CrossSiteRedirect:"Attempted to prerender a URL which redirected to a cross-site URL. Currently prerendering cross-site pages is disallowed.",CrossSiteNavigation:"The prerendered page navigated to a cross-site URL after loading. Currently prerendering cross-site pages is disallowed.",SameSiteCrossOriginRedirect:"Attempted to prerender a URL which redirected to a same-site cross-origin URL. Currently prerendering cross-origin pages is disallowed.",SameSiteCrossOriginNavigation:"The prerendered page navigated to a same-site cross-origin URL after loading. Currently prerendering cross-origin pages is disallowed.",SameSiteCrossOriginRedirectNotOptIn:"Attempted to prerender a URL which redirected to a same-site cross-origin URL. This is disallowed unless the destination site sends a Supports-Loading-Mode: credentialed-prerender header.",SameSiteCrossOriginNavigationNotOptIn:"The prerendered page navigated to a same-site cross-origin URL after loading. This is disallowed unless the destination site sends a Supports-Loading-Mode: credentialed-prerender header.",ActivationNavigationParameterMismatch:"The page was prerendered, but the navigation ended up being performed differently than the original prerender, so the prerendered page could not be activated."},Te=e.i18n.registerUIStrings("panels/application/components/Prerender2.ts",ke),Se=e.i18n.getLazilyComputedLocalizedString.bind(void 0,Te),Re={Activated:{name:Se(ke.Activated)},Destroyed:{name:Se(ke.Destroyed)},LowEndDevice:{name:Se(ke.LowEndDevice)},InvalidSchemeRedirect:{name:Se(ke.InvalidSchemeRedirect)},InvalidSchemeNavigation:{name:Se(ke.InvalidSchemeNavigation)},InProgressNavigation:{name:Se(ke.InProgressNavigation)},NavigationRequestBlockedByCsp:{name:Se(ke.NavigationRequestBlockedByCsp)},MainFrameNavigation:{name:Se(ke.MainFrameNavigation)},MojoBinderPolicy:{name:Se(ke.MojoBinderPolicy)},RendererProcessCrashed:{name:Se(ke.RendererProcessCrashed)},RendererProcessKilled:{name:Se(ke.RendererProcessKilled)},Download:{name:Se(ke.Download)},TriggerDestroyed:{name:Se(ke.TriggerDestroyed)},NavigationNotCommitted:{name:Se(ke.NavigationNotCommitted)},NavigationBadHttpStatus:{name:Se(ke.NavigationBadHttpStatus)},ClientCertRequested:{name:Se(ke.ClientCertRequested)},NavigationRequestNetworkError:{name:Se(ke.NavigationRequestNetworkError)},MaxNumOfRunningPrerendersExceeded:{name:Se(ke.MaxNumOfRunningPrerendersExceeded)},CancelAllHostsForTesting:{name:Se(ke.CancelAllHostsForTesting)},DidFailLoad:{name:Se(ke.DidFailLoad)},Stop:{name:Se(ke.Stop)},SslCertificateError:{name:Se(ke.SslCertificateError)},LoginAuthRequested:{name:Se(ke.LoginAuthRequested)},UaChangeRequiresReload:{name:Se(ke.UaChangeRequiresReload)},BlockedByClient:{name:Se(ke.BlockedByClient)},AudioOutputDeviceRequested:{name:Se(ke.AudioOutputDeviceRequested)},MixedContent:{name:Se(ke.MixedContent)},TriggerBackgrounded:{name:Se(ke.TriggerBackgrounded)},EmbedderTriggeredAndSameOriginRedirected:{name:Se(ke.EmbedderTriggeredAndSameOriginRedirected)},EmbedderTriggeredAndCrossOriginRedirected:{name:Se(ke.EmbedderTriggeredAndCrossOriginRedirected)},MemoryLimitExceeded:{name:Se(ke.MemoryLimitExceeded)},FailToGetMemoryUsage:{name:Se(ke.FailToGetMemoryUsage)},DataSaverEnabled:{name:Se(ke.DataSaverEnabled)},HasEffectiveUrl:{name:Se(ke.HasEffectiveUrl)},ActivatedBeforeStarted:{name:Se(ke.ActivatedBeforeStarted)},InactivePageRestriction:{name:Se(ke.InactivePageRestriction)},StartFailed:{name:Se(ke.StartFailed)},DisallowedApiMethod:{name:Se(ke.DisallowedApiMethod)},PrerenderingOngoing:{name:Se(ke.PrerenderingOngoing)},CrossSiteRedirect:{name:Se(ke.CrossSiteRedirect)},CrossSiteNavigation:{name:Se(ke.CrossSiteNavigation)},SameSiteCrossOriginRedirect:{name:Se(ke.SameSiteCrossOriginRedirect)},SameSiteCrossOriginNavigation:{name:Se(ke.SameSiteCrossOriginNavigation)},SameSiteCrossOriginRedirectNotOptIn:{name:Se(ke.SameSiteCrossOriginRedirectNotOptIn)},SameSiteCrossOriginNavigationNotOptIn:{name:Se(ke.SameSiteCrossOriginNavigationNotOptIn)},ActivationNavigationParameterMismatch:{name:Se(ke.ActivationNavigationParameterMismatch)}},ye={additionalInformation:"Additional Information",thisAdditionalDebugging:"This additional (debugging) information is shown because the 'Protocol Monitor' experiment is enabled.",frameId:"Frame ID",document:"Document",url:"URL",clickToRevealInSourcesPanel:"Click to reveal in Sources panel",clickToRevealInNetworkPanel:"Click to reveal in Network panel",unreachableUrl:"Unreachable URL",clickToRevealInNetworkPanelMight:"Click to reveal in Network panel (might require page reload)",origin:"Origin",ownerElement:"Owner Element",clickToRevealInElementsPanel:"Click to reveal in Elements panel",adStatus:"Ad Status",rootDescription:"This frame has been identified as the root frame of an ad",root:"root",childDescription:"This frame has been identified as a child frame of an ad",child:"child",securityIsolation:"Security & Isolation",secureContext:"Secure Context",yes:"Yes",no:"No",crossoriginIsolated:"Cross-Origin Isolated",localhostIsAlwaysASecureContext:"`Localhost` is always a secure context",aFrameAncestorIsAnInsecure:"A frame ancestor is an insecure context",theFramesSchemeIsInsecure:"The frame's scheme is insecure",reportingTo:"reporting to",apiAvailability:"API availability",availabilityOfCertainApisDepends:"Availability of certain APIs depends on the document being cross-origin isolated.",availableTransferable:"available, transferable",availableNotTransferable:"available, not transferable",unavailable:"unavailable",sharedarraybufferConstructorIs:"`SharedArrayBuffer` constructor is available and `SABs` can be transferred via `postMessage`",sharedarraybufferConstructorIsAvailable:"`SharedArrayBuffer` constructor is available but `SABs` cannot be transferred via `postMessage`",willRequireCrossoriginIsolated:" will require cross-origin isolated context in the future",requiresCrossoriginIsolated:"requires cross-origin isolated context",transferRequiresCrossoriginIsolatedPermission:"`SharedArrayBuffer` transfer requires enabling the permission policy:",available:"available",thePerformanceAPI:"The `performance.measureUserAgentSpecificMemory()` API is available",thePerformancemeasureuseragentspecificmemory:"The `performance.measureUserAgentSpecificMemory()` API is not available",measureMemory:"Measure Memory",learnMore:"Learn more",creationStackTrace:"Frame Creation `Stack Trace`",creationStackTraceExplanation:"This frame was created programmatically. The `stack trace` shows where this happened.",parentIsAdExplanation:"This frame is considered an ad frame because its parent frame is an ad frame.",matchedBlockingRuleExplanation:"This frame is considered an ad frame because its current (or previous) main document is an ad resource.",createdByAdScriptExplanation:"There was an ad script in the `(async) stack` when this frame was created. Examining the creation `stack trace` of this frame might provide more insight.",refresh:"Refresh",prerendering:"Prerendering",prerenderingStatus:"Prerendering Status",creatorAdScript:"Creator Ad Script"},xe=e.i18n.registerUIStrings("panels/application/components/FrameDetailsView.ts",ye),$e=e.i18n.getLocalizedString.bind(void 0,xe);class Ne extends n.ThrottledWidget.ThrottledWidget{#q=new Ie;#o;#_;constructor(e){super(),this.#o=e,this.#_="",this.contentElement.classList.add("overflow-auto"),this.contentElement.appendChild(this.#q),this.update(),r.TargetManager.TargetManager.instance().addModelListener(r.ChildTargetManager.ChildTargetManager,r.ChildTargetManager.Events.TargetInfoChanged,this.targetChanged,this),e.resourceTreeModel().addEventListener(r.ResourceTreeModel.Events.PrerenderingStatusUpdated,this.update,this)}targetChanged(e){const t=e.data;"prerender"===t.subtype&&(this.#_=t.url,this.update())}async doUpdate(){const e=await(this.#o?.parentFrame()?.getAdScriptId(this.#o?.id)),t=(e?.debuggerId?await r.DebuggerModel.DebuggerModel.modelForDebuggerId(e?.debuggerId):null)?.target();this.#q.data={frame:this.#o,target:t,prerenderedUrl:this.#_,adScriptId:e||null}}}const Ce=c.RenderCoordinator.RenderCoordinator.instance();class Ie extends HTMLElement{static litTagName=a.literal`devtools-resources-frame-details-view`;#a=this.attachShadow({mode:"open"});#o;#G;#_;#z=!1;#K=null;#M={policies:[],showDetails:!1};#j=new be;#I=new p.Linkifier.Linkifier;#X=null;connectedCallback(){this.#z=o.Runtime.experiments.isEnabled("protocolMonitor"),this.#a.adoptedStyleSheets=[fe]}set data(e){this.#o=e.frame,this.#X=e.adScriptId,this.#G=e.target,this.#_=e.prerenderedUrl,!this.#K&&this.#o&&(this.#K=this.#o.getPermissionsPolicyState()),this.#l()}async#l(){await Ce.write("FrameDetailsView render",(()=>{this.#o&&a.render(a.html` <${i.ReportView.Report.litTagName} .data="${{reportTitle:this.#o.displayName()}}"> ${this.#J()} ${this.#Q()} ${this.#Y()} ${this.#Z()} ${a.Directives.until(this.#K?.then((e=>(this.#M.policies=e||[],a.html` <${oe.litTagName} .data="${this.#M}"> </${oe.litTagName}> `))),a.nothing)} ${this.#ee()} ${this.#z?this.#te():a.nothing} </${i.ReportView.Report.litTagName}> `,this.#a,{host:this})}))}#Z(){if(!this.#o)return a.nothing;this.#j.classList.add("span-cols");const t=this.#o,r=()=>{t.getOriginTrials().then((e=>{this.#j.data={trials:e}}))};return r(),a.html` <${i.ReportView.ReportSectionHeader.litTagName}> ${e.i18n.lockedString("Origin Trials")} <${s.IconButton.IconButton.litTagName} class="inline-button" .data="${{clickHandler:r,groups:[{iconName:"refresh_12x12_icon",text:$e(ye.refresh),iconColor:"var(--color-text-primary)"}]}}"> </${s.IconButton.IconButton.litTagName}> </${i.ReportView.ReportSectionHeader.litTagName}> ${this.#j} <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `}#J(){return this.#o?a.html` <${i.ReportView.ReportSectionHeader.litTagName}>${$e(ye.document)}</${i.ReportView.ReportSectionHeader.litTagName}> <${i.ReportView.ReportKey.litTagName}>${$e(ye.url)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="inline-items"> ${this.#re()} ${this.#ae()} <div class="text-ellipsis" title="${this.#o.url}">${this.#o.url}</div> </div> </${i.ReportView.ReportValue.litTagName}> ${this.#oe()} ${this.#ie()} ${a.Directives.until(this.#ne(),a.nothing)} ${this.#se()} ${this.#le()} <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `:a.nothing}#re(){if(!this.#o||this.#o.unreachableUrl())return a.nothing;const e=this.#ce(this.#o);return ae("sources_panel_icon",$e(ye.clickToRevealInSourcesPanel),(()=>w.Revealer.reveal(e)))}#ae(){if(this.#o){const e=this.#o.resourceForURL(this.#o.url);if(e&&e.request){const t=e.request;return ae("network_panel_icon",$e(ye.clickToRevealInNetworkPanel),(()=>{const e=u.UIRequestLocation.UIRequestLocation.tab(t,u.UIRequestLocation.UIRequestTabs.Headers);return w.Revealer.reveal(e)}))}}return a.nothing}#ce(e){for(const t of f.Workspace.WorkspaceImpl.instance().projects()){const r=b.NetworkProject.NetworkProject.getTargetForProject(t);if(r&&r===e.resourceTreeModel().target()){const r=t.uiSourceCodeForURL(e.url);if(r)return r}}return null}#oe(){return this.#o&&this.#o.unreachableUrl()?a.html` <${i.ReportView.ReportKey.litTagName}>${$e(ye.unreachableUrl)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="inline-items"> ${this.#de()} <div class="text-ellipsis" title="${this.#o.unreachableUrl()}">${this.#o.unreachableUrl()}</div> </div> </${i.ReportView.ReportValue.litTagName}> `:a.nothing}#de(){if(this.#o){const e=w.ParsedURL.ParsedURL.fromString(this.#o.unreachableUrl());if(e)return ae("network_panel_icon",$e(ye.clickToRevealInNetworkPanelMight),(()=>{w.Revealer.reveal(u.UIFilter.UIRequestFilter.filters([{filterType:u.UIFilter.FilterType.Domain,filterValue:e.domain()},{filterType:null,filterValue:e.path}]))}))}return a.nothing}#ie(){return this.#o&&this.#o.securityOrigin&&"://"!==this.#o.securityOrigin?a.html` <${i.ReportView.ReportKey.litTagName}>${$e(ye.origin)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="text-ellipsis" title="${this.#o.securityOrigin}">${this.#o.securityOrigin}</div> </${i.ReportView.ReportValue.litTagName}> `:a.nothing}async#ne(){if(this.#o){const e=await this.#o.getOwnerDOMNodeOrDocument();if(e)return a.html` <${i.ReportView.ReportKey.litTagName}>${$e(ye.ownerElement)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName} class="without-min-width"> <button class="link" role="link" tabindex="0" title="${$e(ye.clickToRevealInElementsPanel)}" @mouseenter="${()=>this.#o?.highlight()}" @mouseleave="${()=>r.OverlayModel.OverlayModel.hideDOMNodeHighlight()}" @click="${()=>w.Revealer.reveal(e)}"> <${s.Icon.Icon.litTagName} class="button-icon-with-text" .data="${{iconName:"elements_panel_icon",color:"var(--color-primary)",width:"16px",height:"16px"}}"></${s.Icon.Icon.litTagName}> &lt;${e.nodeName().toLocaleLowerCase()}> </button> </${i.ReportView.ReportValue.litTagName}> `}return a.nothing}#se(){const e=this.#o?.getCreationStackTraceData();return e&&e.creationStackTrace?a.html` <${i.ReportView.ReportKey.litTagName} title="${$e(ye.creationStackTraceExplanation)}">${$e(ye.creationStackTrace)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <${J.litTagName} .data="${{frame:this.#o,buildStackTraceRows:p.JSPresentationUtils.buildStackTraceRows}}"> </${J.litTagName}> </${i.ReportView.ReportValue.litTagName}> `:a.nothing}#he(e){switch(e){case"child":return{value:$e(ye.child),description:$e(ye.childDescription)};case"root":return{value:$e(ye.root),description:$e(ye.rootDescription)}}}#me(e){switch(e){case"CreatedByAdScript":return $e(ye.createdByAdScriptExplanation);case"MatchedBlockingRule":return $e(ye.matchedBlockingRuleExplanation);case"ParentIsAd":return $e(ye.parentIsAdExplanation)}}#le(){if(!this.#o)return a.nothing;const e=this.#o.adFrameType();if("none"===e)return a.nothing;const t=this.#he(e),r=[a.html`<div title="${t.description}">${t.value}</div>`];for(const e of this.#o.adFrameStatus()?.explanations||[])r.push(a.html`<div>${this.#me(e)}</div>`);const o=this.#G?this.#I.linkifyScriptLocation(this.#G,this.#X?.scriptId||null,v.DevToolsPath.EmptyUrlString,void 0,void 0):null;return a.html` <${i.ReportView.ReportKey.litTagName}>${$e(ye.adStatus)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <${h.ExpandableList.ExpandableList.litTagName} .data="${{rows:r}}"></${h.ExpandableList.ExpandableList.litTagName}></${i.ReportView.ReportValue.litTagName}> ${this.#G?a.html` <${i.ReportView.ReportKey.litTagName}>${$e(ye.creatorAdScript)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName} class="ad-script-link">${o}</${i.ReportView.ReportValue.litTagName}> `:a.nothing} `}#Q(){return this.#o?a.html` <${i.ReportView.ReportSectionHeader.litTagName}>${$e(ye.securityIsolation)}</${i.ReportView.ReportSectionHeader.litTagName}> <${i.ReportView.ReportKey.litTagName}>${$e(ye.secureContext)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${this.#o.isSecureContext()?$e(ye.yes):$e(ye.no)}\xA0${this.#ge()} </${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportKey.litTagName}>${$e(ye.crossoriginIsolated)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${this.#o.isCrossOriginIsolated()?$e(ye.yes):$e(ye.no)} </${i.ReportView.ReportValue.litTagName}> ${a.Directives.until(this.#pe(),a.nothing)} <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `:a.nothing}#ge(){const e=this.#ue();return e?a.html`<span class="inline-comment">${e}</span>`:a.nothing}#ue(){switch(this.#o?.getSecureContextType()){case"Secure":return null;case"SecureLocalhost":return $e(ye.localhostIsAlwaysASecureContext);case"InsecureAncestor":return $e(ye.aFrameAncestorIsAnInsecure);case"InsecureScheme":return $e(ye.theFramesSchemeIsInsecure)}return null}async#pe(){if(this.#o){const t=this.#o.resourceTreeModel().target().model(r.NetworkManager.NetworkManager),o=t&&await t.getSecurityIsolationStatus(this.#o.id);if(o)return a.html` ${this.#we(o.coep,e.i18n.lockedString("Cross-Origin Embedder Policy (COEP)"),"None")} ${this.#we(o.coop,e.i18n.lockedString("Cross-Origin Opener Policy (COOP)"),"UnsafeNone")} `}return a.nothing}#we(e,t,r){if(!e)return a.nothing;const o=e.value!==r,n=!o&&e.reportOnlyValue!==r,s=o?e.reportingEndpoint:e.reportOnlyReportingEndpoint;return a.html` <${i.ReportView.ReportKey.litTagName}>${t}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${o?e.value:e.reportOnlyValue} ${n?a.html`<span class="inline-comment">report-only</span>`:a.nothing} ${s?a.html`<span class="inline-name">${$e(ye.reportingTo)}</span>${s}`:a.nothing} </${i.ReportView.ReportValue.litTagName}> `}#Y(){return this.#o?a.html` <${i.ReportView.ReportSectionHeader.litTagName}>${$e(ye.apiAvailability)}</${i.ReportView.ReportSectionHeader.litTagName}> <div class="span-cols"> ${$e(ye.availabilityOfCertainApisDepends)} <x-link href="https://web.dev/why-coop-coep/" class="link">${$e(ye.learnMore)}</x-link> </div> ${this.#be()} ${this.#ve()} <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `:a.nothing}#be(){if(this.#o){const e=this.#o.getGatedAPIFeatures();if(e){const t=e.includes("SharedArrayBuffers"),r=t&&e.includes("SharedArrayBuffersTransferAllowed"),o=$e(r?ye.availableTransferable:t?ye.availableNotTransferable:ye.unavailable),n=r?$e(ye.sharedarraybufferConstructorIs):t?$e(ye.sharedarraybufferConstructorIsAvailable):"";function s(e){switch(e.getCrossOriginIsolatedContextType()){case"Isolated":return a.nothing;case"NotIsolated":return t?a.html`<span class="inline-comment">${$e(ye.willRequireCrossoriginIsolated)}</span>`:a.html`<span class="inline-comment">${$e(ye.requiresCrossoriginIsolated)}</span>`;case"NotIsolatedFeatureDisabled":if(!r)return a.html`<span class="inline-comment">${$e(ye.transferRequiresCrossoriginIsolatedPermission)} <code>cross-origin-isolated</code></span>`}return a.nothing}return a.html` <${i.ReportView.ReportKey.litTagName}>SharedArrayBuffers</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName} title="${n}"> ${o}\xA0${s(this.#o)} </${i.ReportView.ReportValue.litTagName}> `}}return a.nothing}#ve(){if(this.#o){const e=this.#o.isCrossOriginIsolated(),t=$e(e?ye.available:ye.unavailable),r=$e(e?ye.thePerformanceAPI:ye.thePerformancemeasureuseragentspecificmemory);return a.html` <${i.ReportView.ReportKey.litTagName}>${$e(ye.measureMemory)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <span title="${r}">${t}</span>\xA0<x-link class="link" href="https://web.dev/monitor-total-page-memory-usage/">${$e(ye.learnMore)}</x-link> </${i.ReportView.ReportValue.litTagName}> `}return a.nothing}#ee(){if(this.#_&&""!==this.#_){const e=Re.PrerenderingOngoing.name()+" "+this.#_;return a.html` <${i.ReportView.ReportSectionHeader.litTagName}> ${$e(ye.prerendering)}</${i.ReportView.ReportSectionHeader.litTagName}> <${i.ReportView.ReportKey.litTagName}>${$e(ye.prerenderingStatus)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="text-ellipsis" title="${e}">${e}</div> </${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}>`}if(!this.#o||!this.#o.prerenderFinalStatus)return a.nothing;const e=Re[this.#o.prerenderFinalStatus].name();if(this.#o.prerenderDisallowedApiMethod){const t=Re.DisallowedApiMethod.name();return a.html` <${i.ReportView.ReportSectionHeader.litTagName}> ${$e(ye.prerendering)}</${i.ReportView.ReportSectionHeader.litTagName}> <${i.ReportView.ReportKey.litTagName}>${$e(ye.prerenderingStatus)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="text-ellipsis" title="${e}">${e}</div> </${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportKey.litTagName}>${t}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="text-ellipsis" title="${this.#o.prerenderDisallowedApiMethod}"> ${this.#o.prerenderDisallowedApiMethod} </div> </${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}>`}return a.html` <${i.ReportView.ReportSectionHeader.litTagName}> ${$e(ye.prerendering)}</${i.ReportView.ReportSectionHeader.litTagName}> <${i.ReportView.ReportKey.litTagName}>${$e(ye.prerenderingStatus)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="text-ellipsis" title="${e}">${e}</div> </${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}>`}#te(){return this.#o?a.html` <${i.ReportView.ReportSectionHeader.litTagName} title="${$e(ye.thisAdditionalDebugging)}">${$e(ye.additionalInformation)}</${i.ReportView.ReportSectionHeader.litTagName}> <${i.ReportView.ReportKey.litTagName}>${$e(ye.frameId)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="text-ellipsis" title="${this.#o.id}">${this.#o.id}</div> </${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `:a.nothing}}l.CustomElements.defineComponent("devtools-resources-frame-details-view",Ie);var Pe=Object.freeze({__proto__:null,FrameDetailsView:Ne,FrameDetailsReportView:Ie});const De=new CSSStyleSheet;De.replaceSync(":host{padding:20px}.heading{font-size:15px}devtools-data-grid-controller{border:1px solid var(--color-details-hairline);margin-top:20px}.info-icon{vertical-align:text-bottom;height:14px}.no-events-message{margin-top:20px}\n/*# sourceURL=interestGroupAccessGrid.css */\n");const Ve={allInterestGroupStorageEvents:"All interest group storage events.",eventTime:"Event Time",eventType:"Access Type",groupOwner:"Owner",groupName:"Name",noEvents:"No interest group events recorded."},Me=e.i18n.registerUIStrings("panels/application/components/InterestGroupAccessGrid.ts",Ve),Ee=e.i18n.getLocalizedString.bind(void 0,Me);class Fe extends HTMLElement{static litTagName=a.literal`devtools-interest-group-access-grid`;#a=this.attachShadow({mode:"open"});#fe=[];connectedCallback(){this.#a.adoptedStyleSheets=[De],this.#l()}set data(e){this.#fe=e,this.#l()}#l(){a.render(a.html` <div> <span class="heading">Interest Groups</span> <${s.Icon.Icon.litTagName} class="info-icon" title="${Ee(Ve.allInterestGroupStorageEvents)}" .data="${{iconName:"ic_info_black_18dp",color:"var(--color-link)",width:"14px"}}"> </${s.Icon.Icon.litTagName}> ${this.#ke()} </div> `,this.#a,{host:this})}#ke(){if(0===this.#fe.length)return a.html`<div class="no-events-message">${Ee(Ve.noEvents)}</div>`;const e={columns:[{id:"event-time",title:Ee(Ve.eventTime),widthWeighting:10,hideable:!1,visible:!0,sortable:!0},{id:"event-type",title:Ee(Ve.eventType),widthWeighting:5,hideable:!1,visible:!0,sortable:!0},{id:"event-group-owner",title:Ee(Ve.groupOwner),widthWeighting:10,hideable:!1,visible:!0,sortable:!0},{id:"event-group-name",title:Ee(Ve.groupName),widthWeighting:10,hideable:!1,visible:!0,sortable:!0}],rows:this.#Te(),initialSort:{columnId:"event-time",direction:"ASC"}};return a.html` <${g.DataGridController.DataGridController.litTagName} .data="${e}"></${g.DataGridController.DataGridController.litTagName}> `}#Te(){return this.#fe.map((e=>({cells:[{columnId:"event-time",value:e.accessTime,renderer:this.#Se.bind(this)},{columnId:"event-type",value:e.type},{columnId:"event-group-owner",value:e.ownerOrigin},{columnId:"event-group-name",value:e.name}]})))}#Se(e){const t=new Date(1e3*e);return a.html`${t.toLocaleString()}`}}l.CustomElements.defineComponent("devtools-interest-group-access-grid",Fe);var Ae=Object.freeze({__proto__:null,i18nString:Ee,InterestGroupAccessGrid:Fe});const Be=new CSSStyleSheet;Be.replaceSync('*{box-sizing:border-box;min-width:0;min-height:0}:root{height:100%;overflow:hidden;--legacy-accent-color:#1a73e8;--legacy-accent-fg-color:#1a73e8;--legacy-accent-color-hover:#3b86e8;--legacy-accent-fg-color-hover:#1567d3;--legacy-active-control-bg-color:#5a5a5a;--legacy-focus-bg-color:hsl(214deg 40% 92%);--legacy-focus-ring-inactive-shadow-color:#e0e0e0;--legacy-input-validation-error:#db1600;--legacy-toolbar-hover-bg-color:#eaeaea;--legacy-selection-fg-color:#fff;--legacy-selection-bg-color:var(--legacy-accent-color);--legacy-selection-inactive-fg-color:#5a5a5a;--legacy-selection-inactive-bg-color:#dadada;--legacy-tab-selected-fg-color:#333;--legacy-divider-border:1px solid var(--color-details-hairline);--legacy-focus-ring-inactive-shadow:0 0 0 1px var(--legacy-focus-ring-inactive-shadow-color);--legacy-focus-ring-active-shadow:0 0 0 1px var(--legacy-accent-color);--legacy-item-selection-bg-color:#cfe8fc;--legacy-item-selection-inactive-bg-color:#e0e0e0;--item-hover-color:rgb(56 121 217/10%);--monospace-font-size:10px;--monospace-font-family:monospace;--source-code-font-size:11px;--source-code-font-family:monospace;--override-force-white-icons-background:#fafafa}.-theme-with-dark-background{color-scheme:dark;--legacy-accent-color:#0e639c;--legacy-accent-fg-color:#ccc;--legacy-accent-fg-color-hover:#fff;--legacy-accent-color-hover:rgb(17 119 187);--legacy-active-control-bg-color:#cdcdcd;--legacy-focus-bg-color:hsl(214deg 19% 27%);--legacy-focus-ring-inactive-shadow-color:#5a5a5a;--legacy-toolbar-hover-bg-color:#202020;--legacy-selection-fg-color:#cdcdcd;--legacy-selection-inactive-fg-color:#cdcdcd;--legacy-selection-inactive-bg-color:hsl(0deg 0% 28%);--legacy-tab-selected-fg-color:#eaeaea;--legacy-focus-ring-inactive-shadow:0 0 0 1px var(--legacy-focus-ring-inactive-shadow-color);--legacy-item-selection-bg-color:hsl(207deg 88% 22%);--legacy-item-selection-inactive-bg-color:#454545}body{height:100%;width:100%;position:relative;overflow:hidden;margin:0;cursor:default;font-family:".SFNSDisplay-Regular","Helvetica Neue","Lucida Grande",sans-serif;font-size:12px;tab-size:4;user-select:none;color:var(--color-text-primary);background:var(--color-background)}.platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.platform-mac{font-family:".SFNSDisplay-Regular","Helvetica Neue","Lucida Grande",sans-serif}.platform-mac,\n.platform-linux{--override-text-color:rgb(48 57 66);color:var(--override-text-color)}.platform-windows{font-family:"Segoe UI",Tahoma,sans-serif}:focus{outline-width:0}.platform-mac,\n:host-context(.platform-mac){--monospace-font-size:11px;--monospace-font-family:menlo,monospace;--source-code-font-size:11px;--source-code-font-family:menlo,monospace}.platform-windows,\n:host-context(.platform-windows){--monospace-font-size:12px;--monospace-font-family:consolas,lucida console,courier new,monospace;--source-code-font-size:12px;--source-code-font-family:consolas,lucida console,courier new,monospace}.platform-linux,\n:host-context(.platform-linux){--monospace-font-size:11px;--monospace-font-family:dejavu sans mono,monospace;--source-code-font-size:11px;--source-code-font-family:dejavu sans mono,monospace}.-theme-with-dark-background .platform-linux,\n.-theme-with-dark-background .platform-mac,\n:host-context(.-theme-with-dark-background) .platform-linux,\n:host-context(.-theme-with-dark-background) .platform-mac{--override-text-color:rgb(189 198 207)}.monospace{font-family:var(--monospace-font-family);font-size:var(--monospace-font-size)!important}.source-code{font-family:var(--source-code-font-family);font-size:var(--source-code-font-size)!important;white-space:pre-wrap}img{-webkit-user-drag:none}iframe,\na img{border:none}.fill{position:absolute;top:0;left:0;right:0;bottom:0}iframe.fill{width:100%;height:100%}.widget{position:relative;flex:auto;contain:style}.hbox{display:flex;flex-direction:row!important;position:relative}.vbox{display:flex;flex-direction:column!important;position:relative}.view-container > .toolbar{border-bottom:1px solid var(--color-details-hairline)}.flex-auto{flex:auto}.flex-none{flex:none}.flex-centered{display:flex;align-items:center;justify-content:center}.overflow-auto{overflow:auto;background-color:var(--color-background)}iframe.widget{position:absolute;width:100%;height:100%;left:0;right:0;top:0;bottom:0}.hidden{display:none!important}.highlighted-search-result{--override-highlighted-search-result-background-color:rgb(255 255 0/80%);border-radius:1px;background-color:var(--override-highlighted-search-result-background-color);outline:1px solid var(--override-highlighted-search-result-background-color)}.-theme-with-dark-background .highlighted-search-result,\n:host-context(.-theme-with-dark-background) .highlighted-search-result{--override-highlighted-search-result-background-color:hsl(133deg 100% 30%);color:#333}.link{cursor:pointer;text-decoration:underline;color:var(--color-link);outline-offset:2px}button,\ninput,\nselect{font-family:inherit;font-size:inherit}select option,\nselect optgroup,\ninput{background-color:var(--color-background)}input{color:inherit}input::placeholder{--override-input-placeholder-color:rgb(0 0 0/54%);color:var(--override-input-placeholder-color)}.-theme-with-dark-background input::placeholder,\n:host-context(.-theme-with-dark-background) input::placeholder{--override-input-placeholder-color:rgb(230 230 230/54%)}:host-context(.-theme-with-dark-background) input[type="checkbox"]:not(.-theme-preserve){accent-color:var(--color-checkbox-accent-color)}.harmony-input:not([type]),\n.harmony-input[type="number"],\n.harmony-input[type="text"]{padding:3px 6px;height:24px;border:none;box-shadow:var(--legacy-focus-ring-inactive-shadow)}.harmony-input:not([type]).error-input,\n.harmony-input[type="number"].error-input,\n.harmony-input[type="text"].error-input,\n.harmony-input:not([type]):invalid,\n.harmony-input[type="number"]:invalid,\n.harmony-input[type="text"]:invalid{box-shadow:0 0 0 1px var(--color-red)}.harmony-input:not([type]):not(.error-input):not(:invalid):hover,\n.harmony-input[type="number"]:not(.error-input):not(:invalid):hover,\n.harmony-input[type="text"]:not(.error-input):not(:invalid):hover{box-shadow:var(--legacy-focus-ring-inactive-shadow)}.harmony-input:not([type]):not(.error-input):not(:invalid):focus,\n.harmony-input[type="number"]:not(.error-input):not(:invalid):focus,\n.harmony-input[type="text"]:not(.error-input):not(:invalid):focus{box-shadow:var(--legacy-focus-ring-active-shadow)}.highlighted-search-result.current-search-result{--override-current-search-result-background-color:rgb(255 127 0/80%);border-radius:1px;padding:1px;margin:-1px;background-color:var(--override-current-search-result-background-color)}.dimmed{opacity:60%}.editing{box-shadow:var(--drop-shadow);background-color:var(--color-background);text-overflow:clip!important;padding-left:2px;margin-left:-2px;padding-right:2px;margin-right:-2px;margin-bottom:-1px;padding-bottom:1px;opacity:100%!important}.editing,\n.editing *{color:var(--color-text-primary)!important;text-decoration:none!important}.chrome-select{--override-chrome-select-border-color:rgb(0 0 0/20%);appearance:none;user-select:none;border:1px solid var(--override-chrome-select-border-color);border-radius:2px;color:var(--color-text-primary);font:inherit;margin:0;outline:none;padding-right:20px;padding-left:6px;background-image:var(--image-file-chromeSelect);background-color:var(--color-background-elevation-0);background-position:right center;background-repeat:no-repeat;min-height:24px;min-width:80px;background-size:15px}.chrome-select:disabled{opacity:38%}.-theme-with-dark-background .chrome-select,\n:host-context(.-theme-with-dark-background) .chrome-select{--override-chrome-select-border-color:rgb(230 230 230/20%);background-image:var(--image-file-chromeSelectDark)}.chrome-select:enabled:active,\n.chrome-select:enabled:focus,\n.chrome-select:enabled:hover{--override-select-box-shadow:0 0 0 2px var(--color-button-outline-focus);background-color:var(--color-background-elevation-1);box-shadow:var(--override-select-box-shadow)}.chrome-select:enabled:active{background-color:var(--color-background-elevation-2)}.chrome-select:enabled:focus{border-color:transparent}@media (forced-colors: active) and (prefers-color-scheme: light){.chrome-select{background-image:var(--image-file-chromeSelect)}.-theme-with-dark-background .chrome-select,\n  :host-context(.-theme-with-dark-background) .chrome-select{background-image:var(--image-file-chromeSelect)}}@media (forced-colors: active) and (prefers-color-scheme: dark){.chrome-select{background-image:var(--image-file-chromeSelectDark)}.-theme-with-dark-background .chrome-select,\n  :host-context(.-theme-with-dark-background) .chrome-select{background-image:var(--image-file-chromeSelectDark)}}.-theme-with-dark-background .chrome-select:enabled:active,\n.-theme-with-dark-background .chrome-select:enabled:focus,\n.-theme-with-dark-background .chrome-select:enabled:hover,\n:host-context(.-theme-with-dark-background) .chrome-select:enabled:active,\n:host-context(.-theme-with-dark-background) .chrome-select:enabled:focus,\n:host-context(.-theme-with-dark-background) .chrome-select:enabled:hover{--override-select-box-shadow:0 0 0 2px var(--color-button-outline-focus)}.chrome-select-label{margin:0 22px;flex:none}.chrome-select-label p p{margin-top:0;color:var(--color-text-secondary)}.settings-select{margin:0}.chrome-select optgroup,\n.chrome-select option{background-color:var(--color-background-elevation-1);color:var(--color-text-primary)}.gray-info-message{text-align:center;font-style:italic;padding:6px;color:var(--color-text-secondary);white-space:nowrap}span[is="dt-icon-label"]{flex:none}.full-widget-dimmed-banner a{color:inherit}.full-widget-dimmed-banner{color:var(--color-text-secondary);background-color:var(--color-background);display:flex;justify-content:center;align-items:center;text-align:center;padding:20px;position:absolute;top:0;right:0;bottom:0;left:0;font-size:13px;overflow:auto;z-index:500}[is="ui-icon"]{display:inline-block;flex-shrink:0}.-theme-with-dark-background [is="ui-icon"].icon-invert,\n:host-context(.-theme-with-dark-background) [is="ui-icon"].icon-invert{filter:invert(80%) hue-rotate(180deg)}[is="ui-icon"].icon-mask{--override-icon-mask-background-color:rgb(110 110 110);background-color:var(--override-icon-mask-background-color);-webkit-mask-position:var(--spritesheet-position)}.-theme-with-dark-background [is="ui-icon"].icon-mask,\n:host-context(.-theme-with-dark-background) [is="ui-icon"].icon-mask{--override-icon-mask-background-color:rgb(145 145 145)}[is="ui-icon"]:not(.icon-mask){background-position:var(--spritesheet-position)}.spritesheet-smallicons:not(.icon-mask){background-image:var(--image-file-smallIcons)}.spritesheet-smallicons.icon-mask{-webkit-mask-image:var(--image-file-smallIcons)}.spritesheet-largeicons:not(.icon-mask){background-image:var(--image-file-largeIcons)}.spritesheet-largeicons.icon-mask{-webkit-mask-image:var(--image-file-largeIcons)}.spritesheet-mediumicons:not(.icon-mask){background-image:var(--image-file-mediumIcons)}.spritesheet-mediumicons.icon-mask{-webkit-mask-image:var(--image-file-mediumIcons)}.spritesheet-arrowicons{background-image:var(--image-file-popoverArrows)}.force-white-icons [is="ui-icon"].spritesheet-smallicons,\n:host-context(.force-white-icons) [is="ui-icon"].spritesheet-smallicons,\n[is="ui-icon"].force-white-icons.spritesheet-smallicons,\n.-theme-preserve{-webkit-mask-image:var(--image-file-smallIcons);-webkit-mask-position:var(--spritesheet-position);background:var(--override-force-white-icons-background)!important}.force-white-icons [is="ui-icon"].spritesheet-largeicons,\n:host-context(.force-white-icons) [is="ui-icon"].spritesheet-largeicons,\n[is="ui-icon"].force-white-icons.spritesheet-largeicons,\n.-theme-preserve{-webkit-mask-image:var(--image-file-largeIcons);-webkit-mask-position:var(--spritesheet-position);background:var(--override-force-white-icons-background)!important}.force-white-icons [is="ui-icon"].spritesheet-mediumicons,\n:host-context(.force-white-icons) [is="ui-icon"].spritesheet-mediumicons,\n[is="ui-icon"].force-white-icons.spritesheet-mediumicons,\n.-theme-preserve{-webkit-mask-image:var(--image-file-mediumIcons);-webkit-mask-position:var(--spritesheet-position);background:var(--override-force-white-icons-background)!important}.mediumicon-file-sync.purple-dot{filter:hue-rotate(160deg)}.-theme-with-dark-background [is="ui-icon"].icon-invert.mediumicon-file-sync.purple-dot,\n:host-context(.-theme-with-dark-background) [is="ui-icon"].icon-invert.mediumicon-file-sync.purple-dot{filter:invert(80%) hue-rotate(350deg)}.expandable-inline-button{background-color:var(--color-background-elevation-2);color:var(--color-text-primary);cursor:pointer;border-radius:3px}.undisplayable-text,\n.expandable-inline-button{padding:1px 3px;margin:0 2px;font-size:11px;font-family:sans-serif;white-space:nowrap;display:inline-block}.undisplayable-text::after,\n.expandable-inline-button::after{content:attr(data-text)}.undisplayable-text{color:var(--color-text-disabled);font-style:italic}.expandable-inline-button:hover,\n.expandable-inline-button:focus-visible{background-color:var(--color-background-elevation-1)}.expandable-inline-button:focus-visible{background-color:var(--color-background-elevation-1)}::selection{--override-selection-background-color:rgb(141 199 248/60%);background-color:var(--override-selection-background-color)}.-theme-with-dark-background *::selection,\n:host-context(.-theme-with-dark-background) *::selection{background-color:rgb(93 93 93/60%)}.reload-warning{align-self:center;margin-left:10px}button.link{border:none;background:none;padding:3px}button.link:focus-visible{--override-link-focus-background-color:rgb(0 0 0/8%);background-color:var(--override-link-focus-background-color);border-radius:2px}.-theme-with-dark-background button.link:focus-visible,\n:host-context(.-theme-with-dark-background) button.link:focus-visible{--override-link-focus-background-color:rgb(230 230 230/8%)}@media (forced-colors: active){.dimmed,\n  .chrome-select:disabled{opacity:100%}[is="ui-icon"].icon-mask,\n  .force-white-icons [is="ui-icon"].spritesheet-smallicons,\n  :host-context(.force-white-icons) [is="ui-icon"].spritesheet-smallicons,\n  [is="ui-icon"].force-white-icons.spritesheet-smallicons,\n  .force-white-icons [is="ui-icon"].spritesheet-largeicons,\n  :host-context(.force-white-icons) [is="ui-icon"].spritesheet-largeicons,\n  [is="ui-icon"].force-white-icons.spritesheet-largeicons,\n  .force-white-icons [is="ui-icon"].spritesheet-mediumicons,\n  :host-context(.force-white-icons) [is="ui-icon"].spritesheet-mediumicons,\n  [is="ui-icon"].force-white-icons.spritesheet-mediumicons,\n  .-theme-preserve{forced-color-adjust:none;background-color:ButtonText}.harmony-input:not([type]),\n  .harmony-input[type="number"],\n  .harmony-input[type="text"]{border:1px solid ButtonText}.harmony-input:not([type]):focus,\n  .harmony-input[type="number"]:focus,\n  .harmony-input[type="text"]:focus{border:1px solid Highlight}}input.custom-search-input::-webkit-search-cancel-button{appearance:none;cursor:pointer;width:16px;height:15px;margin-right:0;background-position:-32px 32px;background-image:var(--image-file-mediumIcons)}.spinner::before{display:block;width:var(--dimension,24px);height:var(--dimension,24px);border:var(--override-spinner-size,3px) solid var(--override-spinner-color,var(--color-text-secondary));border-radius:12px;clip:rect(0,var(--clip-size,15px),var(--clip-size,15px),0);content:"";position:absolute;animation:spinner-animation 1s linear infinite;box-sizing:border-box}@keyframes spinner-animation{from{transform:rotate(0)}to{transform:rotate(360deg)}}.adorner-container{display:inline-block}.adorner-container.hidden{display:none}.adorner-container devtools-adorner{margin-left:3px}:host-context(.-theme-with-dark-background) devtools-adorner{--override-adorner-background-color:rgb(var(--color-syntax-2-rgb)/15%);--override-adorner-border-color:rgb(var(--color-syntax-2-rgb)/50%);--override-adorner-focus-border-color:var(--color-syntax-2);--override-adorner-active-background-color:var(--color-syntax-8)}.panel{display:flex;overflow:hidden;position:absolute;top:0;left:0;right:0;bottom:0;z-index:0;background-color:var(--color-background)}.panel-sidebar{overflow-x:hidden;background-color:var(--color-background-elevation-1)}iframe.extension{flex:auto;width:100%;height:100%}iframe.panel.extension{display:block;height:100%}@media (forced-colors: active){:root{--legacy-accent-color:Highlight;--legacy-focus-ring-inactive-shadow-color:ButtonText}}\n/*# sourceURL=inspectorCommon.css */\n');const Le=new CSSStyleSheet;Le.replaceSync('.devtools-link{color:var(--color-link);text-decoration:underline;cursor:pointer;outline-offset:2px}.devtools-link:focus-visible{outline-width:unset}input.devtools-text-input[type="text"]{padding:3px 6px;margin-left:4px;margin-right:4px;width:250px;height:25px}input.devtools-text-input[type="text"]::placeholder{color:var(--color-text-secondary)}.protocol-handlers-row{margin:10px 0 2px 18px}.inline-icon{vertical-align:text-bottom}@media (forced-colors: active){.devtools-link:not(.devtools-link-prevent-click){color:linktext}.devtools-link:focus-visible{background:Highlight;color:HighlightText}}\n/*# sourceURL=protocolHandlersView.css */\n');const He={protocolDetected:"Found valid protocol handler registration in the {PH1}. With the app installed, test the registered protocols.",protocolNotDetected:"Define protocol handlers in the {PH1} to register your app as a handler for custom protocols when your app is installed.",needHelpReadOur:"Need help? Read {PH1}.",protocolHandlerRegistrations:"URL protocol handler registration for PWAs",manifest:"manifest",testProtocol:"Test protocol",dropdownLabel:"Select protocol handler",textboxLabel:"Query parameter or endpoint for protocol handler",textboxPlaceholder:"Enter URL"},Oe=e.i18n.registerUIStrings("panels/application/components/ProtocolHandlersView.ts",He),Ue=e.i18n.getLocalizedString.bind(void 0,Oe);class We extends HTMLElement{static litTagName=a.literal`devtools-protocol-handlers-view`;#a=this.attachShadow({mode:"open"});#Re=[];#ye=v.DevToolsPath.EmptyUrlString;#xe="";#$e="";set data(e){const t=this.#ye!==e.manifestLink;this.#Re=e.protocolHandlers,this.#ye=e.manifestLink,t&&this.#Ne()}#Ne(){this.#$e="",this.#xe=this.#Re[0]?.protocol??"",this.#l()}#Ce(){const t=n.XLink.XLink.create(this.#ye,Ue(He.manifest)),r=this.#Re.length>0?He.protocolDetected:He.protocolNotDetected,o={iconName:this.#Re.length>0?"ic_checkmark_16x16":"ic_info_black_18dp",color:this.#Re.length>0?"var( --color-ic-file-image)":"var(--color-link)",width:"16px"};return a.html` <div class="protocol-handlers-row status"> <${s.Icon.Icon.litTagName} class="inline-icon" .data="${o}"> </${s.Icon.Icon.litTagName}> ${e.i18n.getFormatLocalizedString(Oe,r,{PH1:t})} </div> `}#Ie(){if(0===this.#Re.length)return a.nothing;const e=this.#Re.filter((e=>e.protocol)).map((e=>a.html`<option value="${e.protocol}">${e.protocol}://`));return a.html` <div class="protocol-handlers-row"> <select class="chrome-select protocol-select" @change="${this.#Pe}" aria-label="${Ue(He.dropdownLabel)}"> ${e} </select> <input .value="${this.#$e}" class="devtools-text-input" type="text" @change="${this.#De}" aria-label="${Ue(He.textboxLabel)}" placeholder="${Ue(He.textboxPlaceholder)}/"> <${t.Button.Button.litTagName} .variant="${"primary"}" @click="${this.#Ve}"> ${Ue(He.testProtocol)} </${t.Button.Button.litTagName}> </div> `}#Pe=e=>{this.#xe=e.target.value};#De=e=>{this.#$e=e.target.value,this.#l()};#Ve=()=>{const e=`${this.#xe}://${this.#$e}`;T.InspectorFrontendHost.InspectorFrontendHostInstance.openInNewTab(e),T.userMetrics.actionTaken(T.UserMetrics.Action.CaptureTestProtocolClicked)};connectedCallback(){this.#a.adoptedStyleSheets=[Le,Be,S.textInputStyles]}#l(){const t=n.XLink.XLink.create("https://web.dev/url-protocol-handler/",Ue(He.protocolHandlerRegistrations));a.render(a.html` ${this.#Ce()} <div class="protocol-handlers-row"> ${e.i18n.getFormatLocalizedString(Oe,He.needHelpReadOur,{PH1:t})} </div> ${this.#Ie()} `,this.#a,{host:this})}}l.CustomElements.defineComponent("devtools-protocol-handlers-view",We);var qe=Object.freeze({__proto__:null,ProtocolHandlersView:We});const _e={noReportsToDisplay:"No reports to display",status:"Status",destination:"Destination",generatedAt:"Generated at"},Ge=e.i18n.registerUIStrings("panels/application/components/ReportsGrid.ts",_e),ze=e.i18n.getLocalizedString.bind(void 0,Ge),{render:Ke,html:je}=a;class Xe extends HTMLElement{static litTagName=a.literal`devtools-resources-reports-grid-status-header`;#a=this.attachShadow({mode:"open"});connectedCallback(){this.#a.adoptedStyleSheets=[F],this.#l()}#l(){Ke(je` ${ze(_e.status)} <x-link href="https://web.dev/reporting-api/#report-status"> <${s.Icon.Icon.litTagName} class="inline-icon" .data="${{iconName:"help_outline",color:"var(--color-primary)",width:"16px",height:"16px"}}"></${s.Icon.Icon.litTagName}> </x-link> `,this.#a,{host:this})}}class Je extends HTMLElement{static litTagName=a.literal`devtools-resources-reports-grid`;#a=this.attachShadow({mode:"open"});#Me=[];#z=!1;connectedCallback(){this.#a.adoptedStyleSheets=[F],this.#z=o.Runtime.experiments.isEnabled("protocolMonitor"),this.#l()}set data(e){this.#Me=e.reports,this.#l()}#l(){const t={columns:[{id:"url",title:e.i18n.lockedString("URL"),widthWeighting:30,hideable:!1,visible:!0},{id:"type",title:e.i18n.lockedString("Type"),widthWeighting:20,hideable:!1,visible:!0},{id:"status",title:ze(_e.status),widthWeighting:20,hideable:!1,visible:!0,titleElement:je` <${Xe.litTagName}></${Xe.litTagName}> `},{id:"destination",title:ze(_e.destination),widthWeighting:20,hideable:!1,visible:!0},{id:"timestamp",title:ze(_e.generatedAt),widthWeighting:20,hideable:!1,visible:!0},{id:"body",title:e.i18n.lockedString("Body"),widthWeighting:20,hideable:!1,visible:!0}],rows:this.#x()};this.#z&&t.columns.unshift({id:"id",title:"ID",widthWeighting:30,hideable:!1,visible:!0}),Ke(je` <div class="reporting-container"> <div class="reporting-header">${e.i18n.lockedString("Reports")}</div> ${this.#Me.length>0?je` <${g.DataGridController.DataGridController.litTagName} .data="${t}"> </${g.DataGridController.DataGridController.litTagName}> `:je` <div class="reporting-placeholder"> <div>${ze(_e.noReportsToDisplay)}</div> </div> `} </div> `,this.#a,{host:this})}#x(){return this.#Me.map((e=>({cells:[{columnId:"id",value:e.id},{columnId:"url",value:e.initiatorUrl},{columnId:"type",value:e.type},{columnId:"status",value:e.status},{columnId:"destination",value:e.destination},{columnId:"timestamp",value:new Date(1e3*e.timestamp).toLocaleString()},{columnId:"body",value:JSON.stringify(e.body)}]})))}}l.CustomElements.defineComponent("devtools-resources-reports-grid-status-header",Xe),l.CustomElements.defineComponent("devtools-resources-reports-grid",Je);var Qe=Object.freeze({__proto__:null,i18nString:ze,ReportsGridStatusHeader:Xe,ReportsGrid:Je});const Ye=new CSSStyleSheet;Ye.replaceSync(":host{padding:20px}.heading{font-size:15px}devtools-data-grid-controller{border:1px solid var(--color-details-hairline);margin-top:20px}.info-icon{vertical-align:text-bottom;height:14px}.no-events-message{margin-top:20px}\n/*# sourceURL=sharedStorageAccessGrid.css */\n");const Ze={sharedStorage:"Shared Storage",allSharedStorageEvents:"All shared storage events for this page.",eventTime:"Event Time",eventType:"Access Type",mainFrameId:"Main Frame ID",ownerOrigin:"Owner Origin",eventParams:"Optional Event Params",noEvents:"No shared storage events recorded."},et=e.i18n.registerUIStrings("panels/application/components/SharedStorageAccessGrid.ts",Ze),tt=e.i18n.getLocalizedString.bind(void 0,et);class rt extends HTMLElement{static litTagName=a.literal`devtools-shared-storage-access-grid`;#a=this.attachShadow({mode:"open"});#fe=[];connectedCallback(){this.#a.adoptedStyleSheets=[Ye],this.#l()}set data(e){this.#fe=e,this.#l()}#l(){a.render(a.html` <div> <span class="heading">${tt(Ze.sharedStorage)}</span> <${s.Icon.Icon.litTagName} class="info-icon" title="${tt(Ze.allSharedStorageEvents)}" .data="${{iconName:"ic_info_black_18dp",color:"var(--color-link)",width:"14px"}}"> </${s.Icon.Icon.litTagName}> ${this.#ke()} </div> `,this.#a,{host:this})}#ke(){if(0===this.#fe.length)return a.html`<div class="no-events-message">${tt(Ze.noEvents)}</div>`;const e={columns:[{id:"event-main-frame-id",title:tt(Ze.mainFrameId),widthWeighting:10,hideable:!1,visible:!1,sortable:!1},{id:"event-time",title:tt(Ze.eventTime),widthWeighting:10,hideable:!1,visible:!0,sortable:!0},{id:"event-type",title:tt(Ze.eventType),widthWeighting:10,hideable:!1,visible:!0,sortable:!0},{id:"event-owner-origin",title:tt(Ze.ownerOrigin),widthWeighting:10,hideable:!1,visible:!0,sortable:!0},{id:"event-params",title:tt(Ze.eventParams),widthWeighting:10,hideable:!1,visible:!0,sortable:!0}],rows:this.#Te(),initialSort:{columnId:"event-time",direction:"ASC"}};return a.html` <${g.DataGridController.DataGridController.litTagName} .data="${e}"></${g.DataGridController.DataGridController.litTagName}> `}#Te(){return this.#fe.map((e=>({cells:[{columnId:"event-main-frame-id",value:e.mainFrameId},{columnId:"event-time",value:e.accessTime,renderer:this.#Se.bind(this)},{columnId:"event-type",value:e.type},{columnId:"event-owner-origin",value:e.ownerOrigin},{columnId:"event-params",value:JSON.stringify(e.params)}]})))}#Se(e){const t=new Date(1e3*e);return a.html`${t.toLocaleString()}`}}l.CustomElements.defineComponent("devtools-shared-storage-access-grid",rt);var at=Object.freeze({__proto__:null,i18nString:tt,SharedStorageAccessGrid:rt});const ot=new CSSStyleSheet;ot.replaceSync(".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.info-icon{vertical-align:text-bottom;margin-left:2px}\n/*# sourceURL=sharedStorageMetadataView.css */\n");const it=new CSSStyleSheet;it.replaceSync(".reset-budget-button{width:16px;height:16px;background:transparent;overflow:hidden;border:none;padding:0;outline:none;margin-left:5px;vertical-align:middle}.reset-budget-button:hover devtools-icon{--icon-color:var(--color-text-primary)}.reset-budget-button:focus devtools-icon{--icon-color:var(--color-text-secondary)}.icon-basic{width:12px;height:14px}\n/*# sourceURL=sharedStorageMetadataViewResetBudgetButton.css */\n");const nt={sharedStorage:"Shared Storage",metadata:"Metadata",origin:"Origin",creation:"Creation Time",notYetCreated:"Not yet created",numEntries:"Number of Entries",entropyBudget:"Entropy Budget for Fenced Frames",budgetExplanation:"Remaining data leakage allowed within a 24-hour period for this origin in bits of entropy",resetBudget:"Reset Budget",entries:"Entries"},st=e.i18n.registerUIStrings("panels/application/components/SharedStorageMetadataView.ts",nt),lt=e.i18n.getLocalizedString.bind(void 0,st);class ct extends n.Widget.VBox{#q=new mt;#Ee;constructor(e,t){super(),this.#Ee=e,this.contentElement.classList.add("overflow-auto"),this.contentElement.appendChild(this.#q),this.#q.origin=t,this.#q.resetBudgetHandler=()=>{this.#Fe()},this.doUpdate()}async doUpdate(){const e=await this.#Ee.getMetadata(),t=e?.creationTime??null,r=e?.length??0,a=e?.remainingBudget??0;this.#q.data={creationTime:t,length:r,remainingBudget:a}}async#Fe(){await this.#Ee.resetBudget(),await this.doUpdate()}}const dt=c.RenderCoordinator.RenderCoordinator.instance();class ht extends HTMLElement{static litTagName=a.literal`devtools-shared-storage-reset-budget-button`;#a=this.attachShadow({mode:"open"});#Ae=()=>{};connectedCallback(){this.#a.adoptedStyleSheets=[it]}set data(e){this.#Ae=e.resetBudgetHandler,this.#l()}#l(){a.render(a.html` <button class="reset-budget-button" title="${lt(nt.resetBudget)}" @click="${()=>this.#Ae()}"> <${s.Icon.Icon.litTagName} .data="${{iconName:"ic_undo_16x16_icon",color:"var(--color-text-secondary)",width:"12px",height:"14px"}}"> </${s.Icon.Icon.litTagName}> </button>`,this.#a,{host:this})}}class mt extends HTMLElement{static litTagName=a.literal`devtools-shared-storage-metadata-view`;#a=this.attachShadow({mode:"open"});#Be="";#Le=null;#He=0;#Oe=0;resetBudgetHandler=()=>{};connectedCallback(){this.#a.adoptedStyleSheets=[ot]}set data(e){e.creationTime&&(this.#Le=e.creationTime,this.#He=e.length,this.#Oe=e.remainingBudget),this.#l()}set origin(e){this.#Be=e}async#l(){await dt.write("SharedStorageMetadataView render",(()=>{const e={reportTitle:lt(nt.sharedStorage)};a.render(a.html` <${i.ReportView.Report.litTagName} .data="${e}"> ${this.#Ue()} ${this.#We()} </${i.ReportView.Report.litTagName}> `,this.#a,{host:this})}))}#Ue(){return a.html` <${i.ReportView.ReportSectionHeader.litTagName}>${lt(nt.metadata)}</${i.ReportView.ReportSectionHeader.litTagName}> <${i.ReportView.ReportKey.litTagName}>${lt(nt.origin)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="text-ellipsis" title="${this.#Be}">${this.#Be}</div> </${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportKey.litTagName}>${lt(nt.creation)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${this.#qe()}</${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportKey.litTagName}>${lt(nt.numEntries)} </${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}>${this.#He}</${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportKey.litTagName}>${lt(nt.entropyBudget)}<${s.Icon.Icon.litTagName} class="info-icon" title="${lt(nt.budgetExplanation)}" .data="${{iconName:"ic_info_black_18dp",color:"var(--color-link)",width:"14px"}}"> </${s.Icon.Icon.litTagName}></${i.ReportView.ReportKey.litTagName}><${i.ReportView.ReportValue.litTagName}>${this.#Oe}${this.#_e()} </${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `}#qe(){if(!this.#Le)return a.html`${lt(nt.notYetCreated)}`;const e=new Date(1e3*this.#Le);return a.html`${e.toLocaleString()}`}#_e(){return a.html`<${ht.litTagName} .data="${{resetBudgetHandler:this.resetBudgetHandler}}"></${ht.litTagName}>`}#We(){return a.html` <${i.ReportView.ReportSectionHeader.litTagName} title="${lt(nt.entries)}"> ${lt(nt.entries)}</${i.ReportView.ReportSectionHeader.litTagName}> `}}l.CustomElements.defineComponent("devtools-shared-storage-reset-budget-button",ht),l.CustomElements.defineComponent("devtools-shared-storage-metadata-view",mt);var gt=Object.freeze({__proto__:null,SharedStorageMetadataView:ct,SharedStorageMetadataReportView:mt});const pt=new CSSStyleSheet;pt.replaceSync(":host{padding:20px}.heading{font-size:15px}devtools-data-grid-controller{border:1px solid var(--color-details-hairline);margin-top:20px}.info-icon{vertical-align:text-bottom;height:14px}.no-tt-message{margin-top:20px}\n/*# sourceURL=trustTokensView.css */\n");const ut=new CSSStyleSheet;ut.replaceSync(".delete-button{width:16px;height:16px;background:transparent;overflow:hidden;border:none;padding:0;outline:none}.delete-button:hover devtools-icon{--icon-color:var(--color-text-primary)}.delete-button:focus devtools-icon{--icon-color:var(--color-text-secondary)}.button-container{display:block;text-align:center}\n/*# sourceURL=trustTokensViewDeleteButton.css */\n");const wt={issuer:"Issuer",storedTokenCount:"Stored token count",allStoredTrustTokensAvailableIn:"All stored Trust Tokens available in this browser instance.",noTrustTokensStored:"No Trust Tokens are currently stored.",deleteTrustTokens:"Delete all stored Trust Tokens issued by {PH1}."},bt=e.i18n.registerUIStrings("panels/application/components/TrustTokensView.ts",wt),vt=e.i18n.getLocalizedString.bind(void 0,bt);class ft extends HTMLElement{static litTagName=a.literal`devtools-trust-tokens-delete-button`;#a=this.attachShadow({mode:"open"});#Ge=null;#ze=()=>{};connectedCallback(){this.#a.adoptedStyleSheets=[ut]}set data(e){this.#Ge=e.issuer,this.#ze=e.deleteClickHandler,this.#l()}#l(){this.#Ge&&a.render(a.html` <span class="button-container"> <button class="delete-button" title="${vt(wt.deleteTrustTokens,{PH1:this.#Ge})}" @click="${()=>this.#ze(this.#Ge)}"> <${s.Icon.Icon.litTagName} .data="${{iconName:"trash_bin_icon",color:"var(--color-text-secondary)",width:"9px",height:"14px"}}"> </${s.Icon.Icon.litTagName}> </button> </span>`,this.#a,{host:this})}}class kt extends HTMLElement{static litTagName=a.literal`devtools-trust-tokens-storage-view`;#a=this.attachShadow({mode:"open"});#Ke=[];#ze=()=>{};connectedCallback(){this.#a.adoptedStyleSheets=[pt],this.#l()}set data(e){this.#Ke=e.tokens,this.#ze=e.deleteClickHandler,this.#l()}#l(){a.render(a.html` <div> <span class="heading">Trust Tokens</span> <${s.Icon.Icon.litTagName} class="info-icon" title="${vt(wt.allStoredTrustTokensAvailableIn)}" .data="${{iconName:"ic_info_black_18dp",color:"var(--color-link)",width:"14px"}}"> </${s.Icon.Icon.litTagName}> ${this.#ke()} </div> `,this.#a,{host:this})}#ke(){if(0===this.#Ke.length)return a.html`<div class="no-tt-message">${vt(wt.noTrustTokensStored)}</div>`;const e={columns:[{id:"issuer",title:vt(wt.issuer),widthWeighting:10,hideable:!1,visible:!0,sortable:!0},{id:"count",title:vt(wt.storedTokenCount),widthWeighting:5,hideable:!1,visible:!0,sortable:!0},{id:"delete-button",title:"",widthWeighting:1,hideable:!1,visible:!0,sortable:!1}],rows:this.#je(),initialSort:{columnId:"issuer",direction:"ASC"}};return a.html` <${g.DataGridController.DataGridController.litTagName} .data="${e}"></${g.DataGridController.DataGridController.litTagName}> `}#je(){return this.#Ke.filter((e=>e.count>0)).map((e=>({cells:[{columnId:"delete-button",value:Tt(e.issuerOrigin),renderer:this.#Xe.bind(this)},{columnId:"issuer",value:Tt(e.issuerOrigin)},{columnId:"count",value:e.count}]})))}#Xe(e){return a.html`<${ft.litTagName} .data="${{issuer:e,deleteClickHandler:this.#ze}}"></${ft.litTagName}>`}}function Tt(e){return e.replace(/\/$/,"")}l.CustomElements.defineComponent("devtools-trust-tokens-delete-button",ft),l.CustomElements.defineComponent("devtools-trust-tokens-storage-view",kt);var St=Object.freeze({__proto__:null,i18nString:vt,TrustTokensView:kt});export{E as BackForwardCacheView,W as EndpointsGrid,Pe as FrameDetailsView,Ae as InterestGroupAccessGrid,ve as OriginTrialTreeView,qe as ProtocolHandlersView,Qe as ReportsGrid,at as SharedStorageAccessGrid,gt as SharedStorageMetadataView,Q as StackTrace,St as TrustTokensView};
